import numpy as np
import matplotlib.pyplot as plt
plt.rc('font',family='Times New Roman')
from matplotlib.pyplot import MultipleLocator

#643
cache_efficiency_density_list=[0.1425959780621572, 0.18464351005484458, 0.21206581352833637, 0.2303473491773309, 0.24314442413162707, 0.24680073126142596, 0.24680073126142596]
#request_delay_density_list=[14.139792848962207, 13.550218335825704, 13.336987769087472, 13.114027603322114, 12.953915164556042, 12.874980388195203, 12.78407312676286]
request_delay_density_list=[49.500270144656184, 47.436300892602894, 46.6898280998692, 45.909294144755954, 45.34877610484549, 45.07244300750762, 44.75419690255551]



#821
cache_efficiency_density_list1= [0.13138686131386862, 0.15328467153284672, 0.2072992700729927, 0.2321167883211679, 0.23795620437956205, 0.24671532846715327, 0.2510948905109489]
#request_delay_density_list1= [18.146907461936046, 17.83206832405053, 17.381657213062407, 16.974656124105547, 16.936700470076566, 16.817037739841513, 16.762433812156615]
request_delay_density_list1=[49.75479743826801, 48.891578316002125, 47.65665089720277, 46.54074413564139, 46.4366781463366, 46.10858946697106, 45.95887760190565]


#664
cache_efficiency_density_list2= [0.13604240282685512, 0.15901060070671377, 0.20671378091872794, 0.2314487632508834, 0.23851590106007067, 0.2332155477031802, 0.25618374558303886]
#request_delay_density_list2= [14.846260341241958, 14.464006289214925, 14.15661734708026, 13.585675975789993, 13.63049662782028, 13.622508380114331, 13.50677763778172]
request_delay_density_list2=[50.329716909842844, 49.033852646118675, 47.99178561487601, 46.056259972143486, 46.20820468256544, 46.18112404162253, 45.78878985338351]


#713
cache_efficiency_density_list3= [0.15282392026578073, 0.17607973421926912, 0.2059800664451827, 0.2009966777408638, 0.2059800664451827, 0.22093023255813954, 0.23089700996677742]
#request_delay_density_list3= [15.75214754764628, 15.36214546576264, 15.079441045353185, 15.112764865024257, 14.862192101597666, 14.75187545478658, 14.68522781544445]
request_delay_density_list3=[49.73083328155929, 48.49956443679061, 47.607043188064544, 47.71224924427714, 46.9211702955068, 46.572891512937716, 46.36247940051256]



#680
cache_efficiency_density_list4= [0.13957597173144876, 0.1519434628975265, 0.1855123674911661, 0.20318021201413428, 0.22084805653710243, 0.22614840989399293, 0.22968197879858657]
#request_delay_density_list4= [15.098675167040868, 14.619684571335894, 14.44452709993457, 14.119824218514243, 14.04577552336187, 13.970296900234226, 13.99308528914395]
request_delay_density_list4=[49.981055589719105, 48.39545583834867, 47.81563309110693, 46.74077105275818, 46.49564809277584, 46.2457916506283, 46.32122792038681]
cache_efficiency_density_list_avg=[]
for i in range(len(request_delay_density_list4)):
    cache_efficiency_density_list_avg.append((cache_efficiency_density_list[i]+cache_efficiency_density_list1[i]+cache_efficiency_density_list2[i]
                                              +cache_efficiency_density_list3[i]+cache_efficiency_density_list4[i])*0.2*100)
print(cache_efficiency_density_list_avg)
cache_efficiency_density_list_avg=[14.048502684002209, 16.499239588224015, 20.35142596912812, 21.961795810087605, 22.9288930510709, 23.47620499767784, 24.293167122415557]
request_delay_density_list_avg=[]
for i in range(len(request_delay_density_list)):
    request_delay_density_list_avg.append((request_delay_density_list[i]+request_delay_density_list1[i]+request_delay_density_list2[i]
                                          +request_delay_density_list3[i]+request_delay_density_list4[i])*0.2)
print(request_delay_density_list_avg)
request_delay_density_list_avg=[49.85933467280909, 48.45135042597259, 47.55218817822389, 46.59186370991523, 46.28209546440604, 46.03616793593344, 45.837114335748815]
# FPCC
name_list=['2', '5', '10', '15', '20', '25', '30']
total_width,n=0.9,2
width=total_width/n
fig,ax1=plt.subplots()
ax2=ax1.twinx()
plt.gcf().set_facecolor('white')
ax1.xaxis.set_minor_locator(plt.MultipleLocator(2.5))
ax1.grid(ls='--')
ax1.bar(np.arange(len(cache_efficiency_density_list_avg)),cache_efficiency_density_list_avg, width=width,color='royalblue',zorder=10)
plt.xlabel('Vehicle density (vehicles/km)',fontsize=15)
ax1.set_xlabel('Vehicle density (vehicles/km)',fontsize=15)
ax1.set_ylabel('Cache hit radio',color='royalblue',fontsize=15)
plt.xticks(np.arange(len(cache_efficiency_density_list_avg))+width/2,name_list)
"-------------------------------------------"
"坐标轴范围"
#ax1.set_xlim(0, 7)
ax1.set_ylim(12, 26)
"-------------------------------------------"
ax2.bar(np.arange(len(request_delay_density_list_avg))+width,request_delay_density_list_avg,width=width, label='MCFR without RL',color='hotpink',zorder=10)
ax2.set_ylabel('Content transmission delay (ms)', color='hotpink',fontsize=15)

"-------------------------------------------"
"坐标轴范围"
ax2.set_ylim()
ax2.set_ylim(44,51)
"-------------------------------------------"
plt.show()


Cache_hit_radio_syn0=[0, 22.846441947565545, 22.189128816083397, 21.271763815291443, 22.0730797912006, 21.477015825169556, 22.356495468277945, 22.844175491679273, 23.32339791356185, 21.599402092675636, 23.1981981981982, 22.452107279693486, 23.059532780708363, 22.99023290758828, 22.163786626596544, 22.091310751104565, 22.288706058339567, 21.55237377543331, 22.459499263622977, 21.729323308270676, 23.64607170099161, 22.14076246334311, 21.06430155210643, 22.700296735905045, 22.22222222222222, 23.563636363636363, 22.534142640364188, 22.87390029325513, 23.547169811320753, 21.898928024502297, 21.551081282624907]
Cache_hit_radio_syn_withou_RL0= [0, 19.550561797752806, 21.891288160833955, 18.77365632096896, 20.13422818791946, 17.784476262245665, 18.27794561933535, 21.02874432677761, 20.715350223546945, 18.161434977578477, 21.396396396396398, 19.846743295019156, 18.311981914091938, 19.759579263711498, 20.435762584522916, 20.029455081001473, 20.269259536275243, 21.4016578749058, 19.95581737849779, 20.977443609022554, 19.069412662090006, 19.72140762463343, 20.32520325203252, 21.290801186943618, 18.91891891891892, 21.01818181818182, 21.775417298937786, 21.774193548387096, 20.67924528301887, 19.372128637059724, 18.26994780014914]
each_epoch_time_syn0=[20.383358001708984, 20.155985593795776, 22.721635818481445, 22.874417543411255, 22.845319509506226, 20.758926391601562, 19.79358172416687, 21.038184642791748, 23.813271284103394, 24.38175392150879, 24.403770923614502, 24.14307427406311, 26.076179265975952, 26.016873598098755, 26.319605827331543, 17.93154788017273, 17.845245838165283, 20.484145641326904, 20.872162342071533, 20.954111337661743, 20.891505241394043, 20.103078603744507, 21.171165943145752, 23.85531783103943, 24.468586206436157, 24.43641471862793, 24.187978506088257, 26.258951663970947, 26.197701930999756, 26.531519412994385]
request_delay_syn0=[14.666924267805944, 28.752019068302314, 44.936267549245585, 53.61358400024907, 28.118349677687814, 45.662417329827946, 48.09088713174741, 30.5320686427488, 40.69799249707648, 64.72715243428021, 102.09000052552133, 114.11638497727402, 225.14197595648918, 445.60587542106737, 537.3073410007673, 795.1601390109993, 1321.5036137069187, 1519.075210738331, 10259.817350068863, 2367.190376304043, 1710.8931430722257, 3880.659373866147, 12205.371565904661, 17121.544417634435, 21686.930693976607, 7366.706792043491, 5377.000559156629, 17560.348161998376, 15415.140928652063, 21863.4178591894]

Cache_hit_radio_syn1 =[0, 21.68141592920354, 22.604242867593268, 23.099203475742218, 23.330887747615552, 22.446043165467625, 20.952380952380953, 23.003663003663004, 22.451994091580502, 22.329376854599406, 21.365638766519822, 22.686567164179106, 21.935007385524372, 21.752041573867857, 21.428571428571427, 22.312824314306894, 22.763636363636365, 23.21688500727802, 21.944035346097202, 22.68041237113402, 22.863403944485025, 23.435225618631733, 20.326409495548962, 22.895125553914326, 21.665438467207075, 21.85911401597676, 22.23858615611193, 23.065693430656932, 23.11631309436723, 22.620790629575403, 22.50733137829912]
Cache_hit_radio_syn_withou_RL1=[0, 18.215339233038346, 21.360643745427947, 19.840695148443157, 19.882611885546588, 19.85611510791367, 17.582417582417584, 18.754578754578755, 16.986706056129986, 18.24925816023739, 18.502202643171806, 20.522388059701495, 19.49778434268833, 18.485523385300667, 18.294460641399418, 17.346182357301704, 20.50909090909091, 19.213973799126638, 18.7039764359352, 18.998527245949926, 19.50328707085464, 21.97962154294032, 18.5459940652819, 19.64549483013294, 20.117907148120857, 19.680464778503996, 22.827687776141385, 20.656934306569344, 20.775420629114848, 20.937042459736457, 20.89442815249267]
each_epoch_time_syn1=[18.82814073562622, 18.437015533447266, 18.781137704849243, 19.156205654144287, 18.85960602760315, 21.61878538131714, 20.267882585525513, 20.18401527404785, 23.13761615753174, 23.88478398323059, 26.164730548858643, 25.957431316375732, 25.185574054718018, 27.10537314414978, 27.140857934951782, 18.70281744003296, 18.485820055007935, 18.7187557220459, 19.15505337715149, 18.99196171760559, 21.383445262908936, 20.33569836616516, 20.343551635742188, 23.359311819076538, 23.977859497070312, 26.19097137451172, 25.98401689529419, 25.40651535987854, 26.8907630443573, 27.249974012374878]
request_delay_syn1=[14.825527684751107, 28.38778553685727, 42.50502051183978, 58.699769420309046, 23.5235750799773, 38.50213348091062, 49.99854063121604, 24.098463129380054, 34.17084571606417, 50.50929876327744, 78.57448701141172, 122.31198309556811, 202.68348489262317, 332.2395583212217, 780.5495486139063, 851.8622247821169, 1147.428626351459, 1680.554530405337, 5502.414599369575, 14114.602187803179, 1732.6152119238236, 3586.6889540846637, 11045.675210191295, 8299.702080487028, 5712.001246834891, 15282.97642005808, 75835.37861978245, 28308.270316077014, 9306.016329249745, 42306.491929151365]

Cache_hit_radio_syn2 =[0, 22.93986636971047, 23.18840579710145, 22.964049889948644, 23.278443113772454, 23.308823529411764, 23.593864134404676, 23.929098966026586, 23.340790454884413, 23.36795252225519, 22.991893883566693, 23.955223880597014, 22.47605011053795, 23.284671532846716, 23.39791356184799, 24.170965364775242, 23.624358033749083, 22.017673048600884, 23.707533234859675, 22.329376854599406, 21.823617339312406, 23.59467455621302, 22.827687776141385, 22.35469448584203, 22.400000000000002, 22.481203007518797, 23.943661971830984, 23.015294974508375, 23.415361670395228, 24.456114028507127, 23.003663003663004]
Cache_hit_radio_syn_withou_RL2=[0, 20.786933927245734, 21.594202898550723, 19.148936170212767, 19.386227544910177, 22.573529411764707, 19.64937910883857, 20.974889217134415, 20.432513049962715, 20.548961424332344, 18.275607958732497, 19.47761194029851, 19.52837140751658, 21.16788321167883, 21.162444113263785, 20.19159911569639, 19.29567131327953, 19.072164948453608, 19.64549483013294, 19.881305637982198, 17.26457399103139, 21.893491124260358, 18.63033873343152, 18.330849478390462, 18.981818181818184, 19.248120300751882, 17.790956263899186, 17.916970138383103, 20.208799403430273, 21.75543885971493, 20.87912087912088]
each_epoch_time_syn2=[18.921769380569458, 20.40593719482422, 20.578181505203247, 21.25003433227539, 20.87496042251587, 21.23387360572815, 22.15648317337036, 22.828527212142944, 23.203116178512573, 23.76558756828308, 23.406190872192383, 24.813822269439697, 24.19529390335083, 24.156394243240356, 26.843597888946533, 18.421976804733276, 20.765570878982544, 20.74997067451477, 21.31217670440674, 20.937145709991455, 21.24999475479126, 22.343276262283325, 22.92208480834961, 23.23434066772461, 23.84376072883606, 23.437442302703857, 24.7174813747406, 24.390473127365112, 24.23430895805359, 26.953099250793457]
request_delay_syn2=[14.829192897529635, 27.294821760452148, 40.35295022851892, 365.3520608930301, 25.515838035714513, 40.77333077049534, 62.77149827059176, 24.385650999876642, 45.98664797603746, 58.96364025082338, 93.44974832685732, 132.9626787010021, 664.3688614604243, 1928.3601254402483, 296.81746785582925, 1336.1003319959855, 1283.9658599873922, 637.9875264405499, 6329.744737245964, 1937.7662477826107, 5730.069981405303, 1997.0105891511764, 6664.096527983698, 694673.1973809928, 6594.989009306483, 16335.742898827537, 9227.138392153847, 7155.252190323557, 12418.899786247035, 7814.313343855507]

Cache_hit_radio_syn4 =[0, 23.75366568914956, 23.228634039444852, 23.40267459138187, 23.248882265275707, 23.599701269604182, 23.2796486090776, 24.3993993993994, 23.20483749055178, 23.586309523809522, 23.053892215568865, 23.340790454884413, 24.59618208516887, 22.814814814814817, 22.47605011053795, 24.265259984928413, 23.088344469190794, 23.415361670395228, 23.970037453183522, 23.69597615499255, 24.540778839088905, 23.416789396170838, 23.981900452488688, 22.344322344322347, 22.910447761194032, 23.432835820895523, 22.575869726128794, 23.763837638376383, 23.85596399099775, 23.26768781911014, 23.52501867064974]
Cache_hit_radio_syn_withou_RL4=[0, 19.794721407624632, 20.014609203798393, 19.316493313521548, 21.90760059612519, 19.64152352501867, 22.18155197657394, 20.795795795795797, 20.559334845049133, 20.386904761904763, 21.55688622754491, 21.10365398956003, 21.145374449339208, 21.185185185185183, 21.665438467207075, 22.532027128862094, 19.00519673348181, 19.23937360178971, 21.423220973782772, 23.025335320417287, 21.822189566495222, 19.219440353460975, 20.739064856711916, 21.53846153846154, 21.044776119402986, 22.53731343283582, 20.281273131014064, 21.771217712177123, 19.72993248312078, 19.620714806710428, 22.031366691560866]
each_epoch_time_syn4=[18.765544652938843, 18.09373450279236, 20.594200611114502, 21.062159538269043, 20.937174320220947, 23.375030517578125, 22.093769311904907, 22.578171968460083, 22.89060139656067, 23.48441982269287, 24.765538930892944, 24.499936819076538, 24.03135895729065, 23.905894994735718, 26.530490398406982, 18.25006675720215, 18.171534538269043, 20.687553882598877, 21.04680585861206, 21.03126859664917, 23.468851804733276, 22.15479326248169, 22.64042901992798, 22.874924659729004, 23.514811992645264, 24.670867681503296, 24.556195497512817, 24.069340229034424, 23.904528379440308, 26.551016330718994]
request_delay_syn4=[14.42823836218995, 30.05376932653699, 39.96908916783029, 73.29132466814266, 24.683235971597647, 38.91400927298339, 50.58995148882277, 25.299218549783262, 41.47300896357543, 50.681657436159114, 124.01085728656416, 173.42889423498286, 114.85985969848403, 222.91938197598046, 345.9457034646556, 1092.340223004792, 2948.991863664294, 980.9308665654928, 2241.1278292847414, 1100.1425478289696, 5494.96478723142, 2411.9380380991893, 6108.102135754078, 7384.035930886831, 9020.33346189389, 7772.392729121113, 11505.438466945712, 10717.732541211482, 119129.0788351733, 12772.057464752654]

Cache_hit_radio_syn5 =[0, 22.772277227722775, 23.41867469879518, 22.962962962962962, 22.15523737754333, 22.230595327807084, 22.087745839636913, 23.105497771173848, 23.318385650224215, 22.105263157894736, 22.22222222222222, 22.376543209876544, 23.001508295625943, 23.870481927710845, 22.389181066867017, 24.592592592592595, 22.28177641653905, 21.75890826383624, 22.865853658536587, 23.245283018867923, 21.684053651266765, 23.34834834834835, 24.278312361213917, 21.978851963746223, 22.538461538461537, 22.676579925650557, 22.94958615500376, 23.435114503816795, 22.690317812269033, 22.64006139677667, 23.31804281345566]
Cache_hit_radio_syn_withou_RL5=[0, 18.88804265041889, 19.80421686746988, 21.925925925925927, 21.175584024114542, 20.120572720422008, 20.499243570347957, 20.430906389301633, 18.90881913303438, 19.398496240601503, 18.98148148148148, 19.290123456790123, 19.607843137254903, 19.126506024096386, 19.534184823441024, 20.666666666666668, 18.07044410413476, 18.57467778620167, 20.121951219512198, 20.452830188679243, 17.362146050670642, 18.993993993993993, 20.799407846039973, 19.033232628398792, 18.0, 19.033457249070633, 19.864559819413092, 19.541984732824428, 18.625277161862527, 20.03069838833461, 20.489296636085626]
each_epoch_time_syn5=[18.280896186828613, 17.70358157157898, 20.359593868255615, 20.734411478042603, 21.82805109024048, 21.858957290649414, 20.765349864959717, 21.171891927719116, 23.547337770462036, 24.3906991481781, 24.250185012817383, 23.8911190032959, 26.078213214874268, 26.123764991760254, 25.402666807174683, 17.251643896102905, 17.315269231796265, 19.781480312347412, 20.16556429862976, 21.24938464164734, 21.91039204597473, 20.813098669052124, 21.154380083084106, 23.565837383270264, 24.446759462356567, 24.273862600326538, 23.99087929725647, 26.150740385055542, 25.936073780059814, 26.19794201850891]
request_delay_syn5=[14.113360532605505, 27.619723616351298, 43.07227025027292, 57.800972041659655, 24.745106891000084, 41.27505195890903, 64.99198096412047, 25.068946644910692, 44.866057938761486, 47.24871301865159, 70.20664171008622, 112.39697534184153, 148.50766836853137, 321.5523227448946, 459.9362022520332, 2185.9575600414555, 1196.6373011001078, 884.4075709304212, 1055.8618577068787, 2288.655998469736, 1391.7836771382817, 3105.1139266187, 29224.9379856559, 3668.946206454788, 9225.24868854155, 8510.315366590568, 11702.883896561116, 12617.043905725146, 7512.0529766207555, 20066.858250572306]

epoch_time=[ 21.6626079082489, 21.7968430519104, 22.468687057495117, 21.92013454437256, 22.53313684463501, 22.37404441833496, 21.91394281387329, 22.520681142807007, 23.045188426971436, 23.0951087474823, 22.848759651184082, 22.51612901687622, 22.359503984451294, 22.617729902267456, 22.588961362838745, 22.283863067626953, 22.483665227890015, 22.9604651927948, 22.723341703414917, 24.092814445495605, 23.00469183921814, 22.126163959503174, 22.92092537879944, 23.522443532943726, 23.561988830566406, 23.473893404006958, 23.329490423202515, 23.32530379295349, 23.706746816635132, 23.067572116851807]
epoch_time1=[ 22.63422465324402, 22.577996253967285, 22.936173677444458, 22.748842477798462, 23.612316846847534, 22.500673294067383, 22.094021797180176, 22.71175217628479, 23.212465047836304, 23.25724172592163, 23.18846821784973, 22.97899055480957, 22.500720262527466, 22.78263282775879, 22.728492975234985, 22.331212997436523, 22.78339123725891, 23.153935432434082, 22.968809127807617, 23.546648025512695, 22.765668630599976, 22.18754816055298, 22.75057363510132, 23.251975059509277, 24.26384472846985, 23.178868293762207, 22.843414306640625, 22.486149549484253, 22.858495235443115, 23.5843505859375]
epoch_time2=[ 22.483959197998047, 22.765641689300537, 23.046900749206543, 23.000025749206543, 23.406628847122192, 22.765685319900513, 22.51173233985901, 23.25981116294861, 24.038254499435425, 23.94688653945923, 23.484204292297363, 23.012327194213867, 22.514944076538086, 22.855910539627075, 23.5303692817688, 22.509756326675415, 22.869959831237793, 23.509284496307373, 23.022674083709717, 23.584375619888306, 23.462841033935547, 22.17254376411438, 22.785402536392212, 23.36937427520752, 23.372278928756714, 23.38310742378235, 22.939193725585938, 22.568397760391235, 22.892661571502686, 22.937294483184814]
Cache_hit_radio_syn6=[0, 22.828282828282827, 23.780068728522334, 21.56208277703605, 21.68350168350168, 21.936357481381176, 22.58064516129032, 22.419685577580314, 21.243169398907106, 23.1748158070998, 21.774744027303754, 21.26634549208534, 22.252937111264686, 21.941216678058783, 22.58064516129032, 21.694915254237287, 21.330589849108367, 22.543741588156124, 23.035230352303522, 21.584699453551913, 22.14719783929777, 21.904761904761905, 22.3433242506812, 21.337792642140467, 23.055746730901582, 23.585548738922974, 22.176870748299322, 22.58934592043156, 21.558092679650773, 22.479564032697546, 21.809588116137746]
epoch_time3= [ 22.69178009033203, 23.1743266582489, 23.624788522720337, 23.411449193954468, 23.627879858016968, 22.704953908920288, 22.190295696258545, 22.765469551086426, 23.373836755752563, 23.358149528503418, 23.241806268692017, 22.920116662979126, 22.576383590698242, 22.879375219345093, 22.948884963989258, 22.50255274772644, 23.03115153312683, 23.305943965911865, 23.171486139297485, 23.73391079902649, 22.968613862991333, 22.29705572128296, 22.96860384941101, 23.593680381774902, 23.609877347946167, 23.46867799758911, 23.10934019088745, 22.79684352874756, 23.109702587127686, 22.98435616493225]
Cache_hit_radio_syn7=[0, 22.086720867208673, 22.547683923705723, 23.783413296778615, 22.88422477995938, 22.615803814713896, 22.35054347826087, 23.35127860026918, 23.171565276828435, 22.937625754527165, 22.717913520933426, 22.426721199727336, 23.85509227614491, 23.816060398078243, 21.2694125590817, 23.385452073419444, 21.88782489740082, 21.58859470468432, 22.61985145172181, 22.19178082191781, 21.92803801765105, 22.912491649966597, 22.641509433962266, 23.050847457627118, 22.24462365591398, 22.328767123287673, 21.951219512195124, 23.585548738922974, 23.082099596231494, 22.602280348759223, 22.933884297520663]
epoch_time4=[ 22.339192867279053, 22.90818214416504, 23.19522738456726, 23.903156757354736, 23.687511205673218, 22.914500951766968, 22.31486415863037, 24.84458327293396, 24.06040668487549, 24.260633945465088, 24.233970165252686, 23.744815826416016, 23.148996353149414, 23.28639006614685, 23.662879943847656, 23.200729846954346, 23.81079411506653, 24.076961278915405, 23.964874267578125, 24.615333318710327, 23.603190660476685, 22.86589789390564, 23.56292700767517, 24.42720603942871, 24.204086542129517, 24.25933027267456, 23.998274087905884, 24.048319578170776, 23.92525029182434, 23.389086961746216]

epoch_time_avg=[]
for i in range(len(epoch_time)):
    epoch_time_avg.append((epoch_time[i]+epoch_time1[i]+epoch_time2[i]+
                        epoch_time3[i]+epoch_time4[i])*0.2)
print(epoch_time_avg)
Cache_hit_radio_syn_avg=[]
for i in range(len(Cache_hit_radio_syn0)):
    Cache_hit_radio_syn_avg.append((Cache_hit_radio_syn0[i]+Cache_hit_radio_syn1[i]+Cache_hit_radio_syn2[i]+
                                   Cache_hit_radio_syn4[i]+Cache_hit_radio_syn5[i])*0.2)
each_epoch_time_syn_avg=[]
for i in range(len(each_epoch_time_syn0)):
    each_epoch_time_syn_avg.append((each_epoch_time_syn0[i]+each_epoch_time_syn1[i]+each_epoch_time_syn2[i]+
                                   each_epoch_time_syn4[i]+each_epoch_time_syn5[i])*0.2)
Cache_hit_radio_syn_avg=[22.798733432670378, 22.925817243803632, 22.740130947065428, 22.81730605908153, 22.612435823492042, 22.454027000755616, 23.456366926388423, 23.127881120160552, 22.597660830246898, 22.566369057215162, 22.962246397846116, 23.013656131513102, 22.942448551365704, 22.37110055888419, 23.48659060154154, 22.80936426829097, 22.392240353108736, 22.989391791259994, 22.736074341572916, 22.91158509502894, 23.187160076541414, 22.495722327499877, 22.454658216745997, 22.347313997816975, 22.8026738267356, 22.84836932988793, 23.230768168122722, 23.32502527587, 22.976716379694327, 22.781027429738486]
each_epoch_time_syn_avg=[19.035941791534423, 18.95925087928772, 20.606949901580812, 21.015445709228516, 21.069022274017335, 21.76911463737488, 21.015413331985474, 21.56015820503235, 23.318388557434083, 23.981448888778687, 24.59808325767517, 24.661076736450198, 25.113323879241946, 25.461660194396973, 26.447443771362305, 18.111610555648806, 18.516688108444214, 20.084381246566775, 20.51035251617432, 20.63277440071106, 21.78083782196045, 21.149989032745363, 21.646322298049927, 23.37794647216797, 24.050355577468874, 24.60191173553467, 24.687310314178468, 25.255204153060916, 25.432675218582155, 26.696710205078126]

cache_efficiency_round_avg=[ 23.098955675386176, 23.459541766631432, 23.548365980461796, 23.157590664513236, 23.162642327786557, 22.63870635090506, 23.01687774541102, 23.223182527959036, 23.164605077678306, 23.192117605331667, 23.289273560063833, 23.305417020472312, 22.798048978407927, 23.250871674372984, 23.70100700463441, 23.03088704009599, 23.557243546788666, 23.295347366959884, 23.304717687626848, 22.821279118902368, 23.69003256284576, 23.343310581559532, 23.03816911735116, 23.645841194792794, 23.46813776489156, 23.41723684284602, 23.36239125188311, 23.182985197452805, 23.135706468916773, 23.124102427572616]
each_epoch_time_avg=[1.212804651260376, 1.1489010810852052, 1.2341198921203613, 1.289863395690918, 1.3819395542144777, 1.4129790782928469, 1.369483232498169, 1.4694838523864746, 1.497882890701294, 1.559785032272339, 1.5878324508666992, 1.637830448150635, 1.6354546546936035, 1.6262416362762453, 1.7070800781250002, 1.1557863712310792, 1.163297176361084, 1.2399307250976563, 1.322292184829712, 1.4016039371490479, 1.4101151943206789, 1.369944477081299, 1.469661569595337, 1.5038378715515137, 1.5786221504211426, 1.6040303230285646, 1.6444475173950197, 1.6429410457611084, 1.6370970726013185, 1.7339009761810305]


plt.xlabel('Rounds',fontsize=15)
plt.ylabel('Cache hit radio',fontsize=15)
ax=plt.gca()
ax.yaxis.set_minor_locator(plt.MultipleLocator(0.5))
ax.grid(which="both",linestyle='--',zorder=0)
plt.ylim(20,25)
plt.xlim(0,30)
plt.plot(range(1,31), Cache_hit_radio_syn_avg, color='royalblue', linewidth=1.5, linestyle='-', marker='*',label='FedAVG')
plt.plot(range(1,31), cache_efficiency_round_avg, color='tomato', linewidth=1.5, linestyle='-', marker='o',label='CAFR')
plt.legend(prop={'family' : 'Times New Roman', 'size' : 10})
plt.show()

plt.xlabel('Rounds',fontsize=15)
plt.ylabel('Training time for each round (s)',fontsize=15)
ax=plt.gca()
ax.yaxis.set_minor_locator(plt.MultipleLocator(2.5))
ax.grid(which="both",linestyle='--',zorder=0)
plt.ylim(0,30)
plt.xlim(0,30)
plt.plot(range(1,31), epoch_time_avg, color='royalblue', linewidth=1.5, linestyle='-', marker='*',label='FedAVG')
plt.plot(range(1,31), each_epoch_time_avg, color='tomato', linewidth=1.5, linestyle='-', marker='o',label='CAFR')
plt.legend(prop={'family' : 'Times New Roman', 'size' : 10})
plt.show()



v2i=[4789215.83643498, 4954409.35611676, 5546075.75099661, 4850481.76067133,
 1123041.05049118, 5755611.06793589, 3906798.6060863, 5792837.29471056,
 6073979.97740185, 5116238.62190188, 2297912.94215426, 4146781.72466826,
 4885647.00651004, 5601156.20817834, 6517605.52682887]
v2i1=[2443151.52188231, 6242683.56237544 ,4000538.23850787, 4441562.42728872,
 2746799.06926892, 5596813.15624792, 3618310.07944763, 2049064.02439262,
 3847959.71145472, 6456990.65121695 ,5563447.54986645 ,3576027.37599935,
 3323059.49656756, 4930709.97226506, 2174277.01858558]
v2i2=[3175491.51846718, 5300333.38052063 ,3672416.92910908 ,5078793.43132715,
 5166276.41137594, 2571543.77643046, 3998555.60132486, 2359125.42744,
 4139578.82511092, 3685377.55464957, 1655023.96223915, 4538269.84829991,
 5581900.03586203 ,3970555.62091802, 3820117.75482065]
v2i3=[5102417.85936321, 5423349.62361321, 4677881.67478741, 5596467.16608004,
 5639483.48675651, 4774408.9095036 , 6652049.96826043, 4237383.80712503,
 4358371.70968139, 5136413.68784422 ,3163801.36637492, 3299009.36899795,
 6255788.18111048, 2981518.13760849, 4266320.54118651]
v2i4=[2372876.68347322, 4498768.4871162,  3625626.45938651, 4008330.63690464,
 4820888.8478942,  3755124.68673115, 4317429.09710495, 3529646.56599206,
 4885803.11540523, 3987349.64197607 ,5894724.08070271, 4627859.5294388,
 4033951.87504431, 5443671.25875997, 4797775.33517998]
v2i_avg=[]
for i in range(15):
    v2i_avg.append((v2i[i]+v2i1[i]+v2i2[i]+v2i3[i]+v2i4[i])*0.2)
print(v2i_avg)

v2i5=[5073006.53996959, 3144361.21535349, 4723660.00904071, 7077817.74313075,
 4184488.15201523, 2707155.74839257, 6020186.94615338, 5835947.94202957,
 5144298.60197495, 5666402.43452476, 4950130.54221972, 3229469.9152524,
 5245745.03543931, 4941226.94586194, 5445576.00220169]
v2i6=[2095525.41202199, 4854444.29461044, 4309625.66041357, 4654321.00402511,
 5757122.05710595, 1834696.33169365, 5262379.70910569, 3848476.24310365,
 1612177.31382677, 7347612.43220036, 4210928.58285887, 4024656.71411305,
 6345591.73460232, 4066079.76760465, 3686059.83609495]
v2i7=[5324909.36065726,  268156.06944791, 4521237.30818299, 3267026.7328757,
 5841613.62349528, 5612953.18868144, 5652955.53054526, 4908042.24824015,
 3472110.40621064, 2693846.56825407, 3391207.35776904, 5737910.51888274,
 5432741.79139809, 4429404.70458651, 5146314.55424131]
v2i8=[4564345.29345058, 3823728.18229448, 6303130.71639816, 4652651.2602435,
 5554902.91951748, 6017692.67462807, 5774236.27082203, 4135000.88823534,
 5588572.02831316, 2318748.97211694, 4927955.07318884, 3712564.52561263,
 3509777.79379897, 4205901.89505465, 7208928.63528451]
v2i9=[5057954.9122449 , 3842946.60095922, 5057309.44451943, 2728864.81795814,
 4348918.28429472 ,5564722.1396073 , 1970829.77502483 ,4564666.90675331,
 2669129.0043266,  6249553.07989596 ,2891627.65757035, 5990335.90519303,
 4103438.99565487 ,5175242.32163248, 4098380.46935482]

v2i_avg1=[]
for i in range(15):
    v2i_avg1.append((v2i5[i]+v2i6[i]+v2i7[i]+v2i8[i]+v2i9[i])*0.2)
print(v2i_avg1)

#different methods cache hit radio_cache size
cache_size=[50,100,150,200,250,300,350,400]
cache_efficiency_list=[14.548126377663484, 23.585598824393827, 31.373989713445994, 36.737692872887585, 42.76267450404115, 48.19985304922851, 54.518736223365174, 59.221160911094785]
Greedy_cache_efficiency=[10.44819985, 21.45481264, 29.4856723, 35.98824394, 40.33798677, 45.01836885, 50.02204262, 55.71638501]
TS_cache_efficiency=[ 6.61278472, 16.01763409, 22.26304188, 31.08008817, 36.00293902, 43.20352682, 49.22850845, 54.00440852]
random_cache_efficiency=[ 1.32255694 , 2.93901543,  5.21675239,  7.42101396,  7.93534166,  6.46583395, 8.89052168, 10.94783248]

cache_efficiency_list1=[14.087591240875913, 23.138686131386862, 32.55474452554745, 37.95620437956204, 43.722627737226276, 48.9051094890511, 54.23357664233577, 58.75912408759124]
Greedy_cache_efficiency1=[11.27737226, 21.15328467, 28.70072993, 35.81751825, 40.25547445, 45.03649635, 49.73722628, 54.70072993]
TS_cache_efficiency1=[11.27737226, 21.15328467, 28.70072993, 35.81751825, 40.25547445, 45.03649635, 49.73722628, 54.70072993]
random_cache_efficiency1=[1.09489051, 1.97080292, 3.21167883, 4.74452555, 5.76642336, 7.59124088, 9.27007299, 9.6350365]

cache_efficiency_list2=[14.177407126611069, 23.57846853677028, 32.90371493555724, 39.044730856709634, 45.034116755117516, 51.0235026535254, 57.4677786201668, 61.25852918877938]
Greedy_cache_efficiency2=[11.90295679, 21.84230478, 29.76497346, 37.3313116, 42.30477635, 47.08112206, 52.13040182, 57.56633813]
TS_cache_efficiency2= [6.06520091, 17.51326763, 24.86732373, 32.29719484, 38.89310083, 45.41319181, 51.70583776, 58.83244882]
random_cache_efficiency2=[ 0.98559515, 3.48749052, 3.56330553, 4.85216073, 6.82335102, 8.18802123, 7.50568613, 10.0075815]

cache_efficiency_list3=[14.634146341463413, 24.68588322246859, 33.6289726533629, 39.61566888396157, 45.45454545454545, 50.77605321507761, 56.76274944567628, 60.310421286031044]
Greedy_cache_efficiency3=[11.02734664, 22.24685883, 30.45084996,37.50184775, 42.64597191, 46.96230599, 51.67775314, 56.85144124]
TS_cache_efficiency3=[ 8.05617147,14.85587583 ,20.54693274, 21.87730968, 26.90317812, 31.63340724, 36.73318551, 40.35476718]
random_cache_efficiency3=[1.18255728 ,2.29120473, 4.50849963 ,3.84331116, 4.73022912, 5.32150776, 8.57354028 ,8.42572062]

cache_efficiency_list4=[12.91759465478842, 21.380846325167038, 30.066815144766146, 35.85746102449889, 40.97995545657015, 47.067557535263546, 52.932442464736454, 56.941351150705266]
Greedy_cache_efficiency4=[ 9.56198961, 19.18337045, 27.47587231, 34.23904974, 39.60653304, 44.3355605, 48.9606533, 54.11284336]
TS_cache_efficiency4=[4.45434298, 13.1403118, 19.97030438, 29.62138085, 34.22420193,43.05864885, 49.22048998, 55.08537491]
random_cache_efficiency4=[1.41054195, 2.07869339, 2.82108389, 4.30586488, 7.20118782, 7.72086117, 7.86933927, 8.61172977]

cache_efficiency_list5=[13.069016152716593, 22.24669603524229, 30.469897209985312, 35.756240822320116, 40.89574155653451, 46.69603524229075, 52.496328928046985, 57.782672540381796]
Greedy_cache_efficiency5= [10.45521292, 20.02202643, 28.37004405 ,34.66960352, 39.23641703 ,44.04552129, 49.10425844, 54.43465492]
TS_cache_efficiency5= [ 6.46108664 ,15.56534508 ,21.87958884, 28.78120411 ,36.63729809, 43.53891336, 47.43024963, 55.13950073]
random_cache_efficiency5=[1.46842878, 2.64317181, 4.18502203, 5.72687225, 6.46108664, 7.63582966, 9.32452276, 9.10425844]

cache_efficiency_list6=[12.653374233128833, 22.085889570552148, 29.217791411042942, 34.58588957055215, 40.87423312883436, 46.62576687116564, 52.30061349693251, 55.598159509202446]
Greedy_cache_efficiency6= [10.86656442, 20.10736196, 27.3696319,  33.93404908, 38.63496933, 43.50460123, 48.20552147, 53.33588957]
TS_cache_efficiency6= [ 5.98159509, 16.10429448 ,22.08588957, 31.05828221, 34.7392638,  43.02147239, 48.1595092, 53.6809816]
random_cache_efficiency6= [ 0.99693252,  3.6809816,   2.45398773 , 5.29141104 , 5.36809816,  6.44171779,  7.89877301, 10.1993865 ]


cache_efficiency_list7=[15.034695451040864, 23.82420971472629, 31.688511950655357, 38.16499614494989, 44.1017733230532, 49.190439475713184, 54.20200462606014, 57.13184271395528]
Greedy_cache_efficiency7= [10.82498072, 21.85042406 ,29.70701619 ,36.11410948 ,40.27756361 ,45.27370856, 50.1002313 , 54.75713184]
TS_cache_efficiency7= [ 6.09097918 ,15.26599846 ,23.2845027  ,29.06707787 ,36.85427911 ,42.32845027, 49.49884348,55.35851966]
random_cache_efficiency7= [ 2.08172706 , 2.00462606,  3.54664611,  4.47185813 , 4.47185813 , 7.24749422, 8.32690825 ,11.17964534]
cache_efficiency_list_avg=[]
for i in range(len(cache_efficiency_list4)):
    cache_efficiency_list_avg.append((cache_efficiency_list[i]+cache_efficiency_list1[i]+cache_efficiency_list2[i]
                                     +cache_efficiency_list3[i]+cache_efficiency_list4[i])*0.2)
Greedy_cache_efficiency_avg=[]
for i in range(len(Greedy_cache_efficiency)):
    Greedy_cache_efficiency_avg.append((Greedy_cache_efficiency[i]+Greedy_cache_efficiency1[i]+Greedy_cache_efficiency2[i]+
                                        Greedy_cache_efficiency3[i]+Greedy_cache_efficiency4[i])*0.2)
TS_cache_efficiency_avg=[]
for i in range(len(TS_cache_efficiency)):
    TS_cache_efficiency_avg.append((TS_cache_efficiency1[i]+TS_cache_efficiency[i]+TS_cache_efficiency2[i]+
                                    TS_cache_efficiency3[i]+TS_cache_efficiency4[i])*0.2)
random_cache_efficiency_avg=[]
for i in range(len(random_cache_efficiency)):
    random_cache_efficiency_avg.append((random_cache_efficiency[i]+random_cache_efficiency1[i]+random_cache_efficiency2[i]
                                       +random_cache_efficiency3[i]+random_cache_efficiency4[i])*0.2)

# plt cache hit ratio
plt.figure(figsize=(6.25, 5))
ax=plt.gca()
ax.yaxis.set_minor_locator(plt.MultipleLocator(5))
ax.grid(which="both",linestyle='--')
# 设置坐标轴范围、名称
plt.xlim(50, 400)
plt.ylim(0, 65)
plt.xlabel('Cache capacity',fontsize=15)
plt.ylabel('Cache hit radio',fontsize=15)
# MCAF
plt.plot(cache_size, cache_efficiency_list_avg, color='tomato', marker='o', linewidth=1.5, linestyle='-', label='CAFR')
print('CAFR',cache_efficiency_list1)
# m-ε-greedy
plt.plot(cache_size, Greedy_cache_efficiency_avg, color='olivedrab',  marker='*', linewidth=1.5, linestyle='-',label='c-ε-greedy')
print('Greedy_cache_efficiency',Greedy_cache_efficiency1)
# Thompson Sampling
plt.plot(cache_size, TS_cache_efficiency_avg, color='mediumorchid',   marker='x',linewidth=1.5, linestyle='-',
         label='Thompson sampling')
print('TS_cache_efficiency',TS_cache_efficiency1)
# Random Caching
plt.plot(cache_size, random_cache_efficiency_avg, color='deeppink', linewidth=1.5, marker='v', linestyle='-', label='Random')
print('random_cache_efficiency',random_cache_efficiency1)
plt.legend(prop={'family' : 'Times New Roman', 'size' : 10})
plt.show()

#different methods request delay_cache size
cache_size=[50,100,150,200,250,300,350,400]
cache_efficiency_rd=[43.76653840232462, 40.922922179979665, 38.27481947305156, 36.798323438888865, 35.16067558158682, 33.666273789297506, 32.07798553586157, 30.62956042482847]
Greedy_cache_rd=[45.97550606951314, 43.027061702130155, 40.69491616613894, 38.7473086628181, 37.60259993626309, 36.703968416344075, 35.08534358789397, 33.358895951240136]
TS_cache_rd= [46.91018664372128, 44.352087803498, 42.455052189982986, 39.9434133056745, 38.65903966573203, 37.1462406420709, 35.27872577566118, 33.776100115589756]
random_cache_rd=[48.19940122883595, 47.5393127500315, 46.60918807535248, 45.70906742243731, 45.49903927009043, 46.09911970536721, 45.1089869871605, 44.26887437777303]


cache_efficiency_rd1=[47.566841051280775, 44.3907241439982, 41.5239733861467, 39.61522365751439, 38.17836288600117, 36.39549551577885, 34.912440980324334, 33.31761074302935]
Greedy_cache_rd1=[49.92497025822792, 47.139227514052415, 44.90424968259338, 42.72948780825591, 41.361076889320294, 39.752562312402425, 38.192461861452784, 36.806348195787145]
TS_cache_rd1=[51.29183652225135, 48.88028553546096, 47.71941254126291, 46.232930842426605, 44.472878809543836, 43.610808930000466, 42.795214359029565, 41.29277164961722]
random_cache_rd1=[52.6296205253381, 52.234439630156764, 51.674600028649834, 50.983033462082496, 50.52198908437092, 49.69869555274313, 48.94126550364554, 48.77660679731996]

cache_efficiency_rd2=[48.401833279279714, 45.00511731907382, 41.76134298669491, 39.83515112139719, 38.24427171003387, 36.4473879107076, 34.35086750830815, 33.19292433779073]
Greedy_cache_rd2=[50.69460464821694, 47.520130994004, 45.362096778309706, 43.06502708352812, 41.33697605281138, 39.77996842768565, 38.54641813131116, 36.59025246966579]
TS_cache_rd2=[52.27389278673046, 48.691265444771815, 46.687057995815856, 44.42690672505147, 42.259936653241354, 40.23119361011809, 38.66127545047576, 36.247731535728455]
random_cache_rd2=[53.64807856959287, 52.48565902431731, 52.45043418961198, 51.85161199962154, 50.935766297283195, 50.30171927258745, 50.618742784935314, 49.45632323965973]

cache_efficiency_rd3=[52.17135853321031, 48.290881568428766, 45.064111850332246, 43.141135653984605, 41.418315630281676, 39.36025281865159, 37.59421440899844, 35.9919971140931]
Greedy_cache_rd3=[54.99928414004329, 51.483601966380284, 48.61416818605989, 46.69389518425969, 45.001570009158804, 43.614042910056945, 41.54485013678935, 40.06359418587071]
TS_cache_rd3=[55.86797369764261, 53.644521263890994, 51.50980004472426, 51.262078579197365, 49.60432811285666, 48.09578953309421, 45.91422895635604, 44.88676605791468]
random_cache_rd3=[57.8776286443276, 57.31808406965924, 56.198994920322555, 56.534721665123556, 56.08708600538886, 55.78866223223243, 54.14733147987194, 54.22193742316105]

cache_efficiency_rd4=[59.25309363518785, 55.45995597055695, 51.757126202656046, 49.76659830168481, 47.35992384137019, 45.18120787242175, 43.0937125931848, 41.252058733292515]
Greedy_cache_rd4=[62.132962437062545, 58.8130564071567, 55.91096891064173, 53.32908526768088, 50.860189051836386, 49.18164542833108, 47.62796441921133, 45.75613334074563]
TS_cache_rd4=[63.80865136287323, 60.79563022345015, 58.3733548176106, 54.844024965143454, 52.62599496929675, 49.60056765978375, 47.542718616299446, 45.43707047841833]
random_cache_rd4=[64.80724505412667, 64.42466583312732, 63.999577809794694, 63.14940176312949, 61.49155847213231, 61.193996855799426, 61.10897925113294, 60.68389122780032]

cache_efficiency_rd5=[50.62548185825163, 47.35454030196064, 44.29240610753163, 42.21725932021017, 40.405042527894004, 38.850755699463456, 37.444275531690266, 35.280444747974364]
Greedy_cache_rd5=[52.9111678666962, 49.98919394779212, 47.335442731918896, 45.2567105721138, 43.82696178645866, 42.240515997777365, 40.480531539803216, 39.02858739210271]
TS_cache_rd5=[54.032351976019, 51.24022106977547, 49.15736690956849, 46.90963273328459, 44.556555857598866, 42.38272501164368, 40.95043958562235, 38.83073137281045]
random_cache_rd5=[55.433832112672526, 54.86758142346697, 54.12437739388465, 53.381173364302335, 53.02726668354886, 52.461015994343285, 51.6470306286103, 51.753202632836334]

cache_efficiency_rd6=[44.651474515144145, 41.63880428577952, 39.192962838074806, 37.727430376400115, 36.34701797544666, 34.4751624767768, 32.85608995086782, 31.26400643035896]
Greedy_cache_rd6=[46.430074538011475, 43.69852872049075, 42.11714024864106, 40.019017616002586, 38.84780365658643, 37.46610265093159, 36.06100001147656, 34.40715736164343]
TS_cache_rd6=[47.63364098440268, 44.684810800579, 43.41895701718667, 40.72755359307749, 39.80763372686389, 37.58513669508015, 36.07233658710975, 34.32213304439446]
random_cache_rd6=[48.86177001133252, 47.74568622154254, 48.25589595401797, 47.07603594766856, 47.04414783938884, 46.59771432347284, 45.991840266158285, 45.03519701776688]

cache_efficiency_rd7=[44.857819731269196, 41.96336211660975, 39.28740364661988, 37.62258471818104, 36.09311757755162, 34.2891764067734, 32.97820841081356, 31.796869340724168]
Greedy_cache_rd7=[47.07735795164841, 44.325846777973545, 42.0848616353582, 40.31565265546107, 39.27151029235965, 37.53136975993143, 36.131483175468745, 34.46288841808842]
TS_cache_rd7=[48.26458649043411, 45.97713858924875, 43.695547910290564, 42.08296028485865, 40.13002734646526, 38.27000380197727, 36.28230373902783, 34.31206785452933]
random_cache_rd7=[49.2700569141614, 49.30292537542365, 48.645556150178756, 48.25113461503181, 48.25113461503181, 47.06787000959101, 46.607711551919586, 45.39157848521655]



cache_efficiency_rd_avg=[]
for i in range(len(cache_efficiency_rd4)):
    cache_efficiency_rd_avg.append((cache_efficiency_rd[i]+cache_efficiency_rd1[i]+cache_efficiency_rd2[i]+cache_efficiency_rd3[i]
                                   +cache_efficiency_rd4[i])*0.2)
Greedy_cache_rd_avg=[]
for i in range(len(Greedy_cache_rd4)):
    Greedy_cache_rd_avg.append((Greedy_cache_rd[i]+Greedy_cache_rd1[i]+Greedy_cache_rd2[i]+Greedy_cache_rd3[i]
                                +Greedy_cache_rd4[i])*0.2)
TS_cache_rd_avg=[]
for i in range(len(TS_cache_rd1)):
    TS_cache_rd_avg.append((TS_cache_rd1[i]+TS_cache_rd[i]+TS_cache_rd2[i]+TS_cache_rd3[i]+TS_cache_rd4[i])*0.2)
random_cache_rd_avg=[]
for i in range(len(random_cache_rd)):
    random_cache_rd_avg.append((random_cache_rd[i]+random_cache_rd1[i]+random_cache_rd2[i]+random_cache_rd3[i]
                                +random_cache_rd4[i])*0.2)

# #plt.figure(figsize=(6.25,5))
ax=plt.gca()
ax.yaxis.set_minor_locator(plt.MultipleLocator(2.5))
ax.grid(which="both",linestyle='--')
# 设置坐标轴范围、名称
plt.xlim(50, 400)
plt.ylim(30, 60)
plt.xlabel('Cache capacity',fontsize=15)
plt.ylabel('Content transmission delay (ms)',fontsize=15)
# MCAF
plt.plot(cache_size, cache_efficiency_rd_avg, color='tomato', marker='o',linewidth=1.5, linestyle='-', label='CAFR')
# m-ε-greedy
plt.plot(cache_size, Greedy_cache_rd_avg, color='olivedrab', linewidth=1.5, marker='*',linestyle='-',
         label='c-ε-greedy')
# Thompson Sampling
plt.plot(cache_size, TS_cache_rd_avg, color='mediumorchid', linewidth=1.5, marker='x',linestyle='-',label='Thompson sampling')
# Random Caching
plt.plot(cache_size, random_cache_rd_avg, color='deeppink', marker='v',linewidth=1.5, linestyle='-', label='Random')
plt.legend(prop={'family' : 'Times New Roman', 'size' : 10})
plt.show()


#episode_cache hit radio\request delay
request_delay_episode=[44.395369040872914, 44.02717152577367, 43.869572921398735, 43.96087739856492, 43.81655915527335, 43.820967995933145, 43.79886995353021, 43.788555739105384, 43.735541972979995, 43.76941038358501, 43.84156950523077, 43.795917266647706, 43.65012940980288, 43.74879541451135, 43.87396830228252, 43.81064032173229, 43.737011586533264, 43.75615694205367, 43.676636292865574, 43.70314317592828, 43.66927476532327, 43.65012940980288, 43.86218447430444, 43.664852464887474, 43.815062622168085, 43.72965005899098, 43.80180918063673, 43.75615694205367, 43.704612789481516, 43.75615694205367, 43.576500674603835, 43.6825282068546, 43.788555739105384, 43.788555739105384, 43.63687596827153, 43.795917266647706, 43.7281804454377, 43.775302297574044, 43.72965005899098, 43.744373114075565, 43.68988973439694, 43.78266382511636, 43.64423749581383, 43.74879541451135, 43.59711564367749, 43.87543791583579, 43.676636292865574, 43.709035089917315, 43.73111967254421, 43.709035089917315, 43.67074437887654, 43.6236225267402, 43.70314317592828, 43.775302297574044, 43.683997820407875, 43.58975411613518, 43.763518469595944, 43.88132982982482, 43.709035089917315, 43.86218447430444, 43.716396617459615, 43.563247233072495, 43.6825282068546, 43.65012940980288, 43.604477171219806, 43.642767882260564, 43.72965005899098, 43.709035089917315, 43.735541972979995, 43.676636292865574, 43.70314317592828, 43.65749093734519, 43.84156950523077, 43.83567759124175, 43.709035089917315, 43.763518469595944, 43.75615694205367, 43.82242414971039, 43.76941038358501, 43.716396617459615, 43.676636292865574, 43.57060876061481, 43.82831606369942, 43.5441018775521, 43.59122372968844, 43.809170708179046, 43.74290350052232, 43.709035089917315, 43.82831606369942, 43.72228853144864, 43.69578164838597, 43.691359347950176, 43.81064032173229, 43.57060876061481, 43.72375814500193, 43.661913237780965, 43.795917266647706, 43.85482294676213, 43.6236225267402, 43.82242414971039, 43.737011586533264, 43.72965005899098, 43.64423749581383, 43.762048856042696, 43.788555739105384, 43.74290350052232, 43.67074437887654, 43.81064032173229, 43.88132982982482, 43.67074437887654, 43.67810590641882, 43.676636292865574, 43.78266382511636, 43.795917266647706, 43.87396830228252, 43.683997820407875, 43.61036908520885, 43.70314317592828, 43.74879541451135, 43.762048856042696, 43.74879541451135, 43.907836712887516, 43.80180918063673, 43.59711564367749, 43.776771911127305, 43.62951444072922, 43.70314317592828, 43.795917266647706, 43.69578164838597, 43.735541972979995, 43.75026502806461, 43.85482294676213, 43.68988973439694, 43.79002535265866, 43.716396617459615, 43.59711564367749, 43.73111967254421, 43.65012940980288, 43.72375814500193, 43.762048856042696, 43.69578164838597, 43.762048856042696, 43.70314317592828, 43.656021323791904, 43.795917266647706, 43.5441018775521, 43.81653223572135, 43.763518469595944, 43.762048856042696, 43.66927476532327, 43.56471684662576, 43.80180918063673, 43.72375814500193, 43.65012940980288, 43.74879541451135, 43.656021323791904, 43.75615694205367, 43.66338285133425, 43.676636292865574, 43.64423749581383, 43.80180918063673, 43.683997820407875, 43.68988973439694, 43.74143388696905, 43.788555739105384, 43.65012940980288, 43.882799443378076, 43.809170708179046, 43.74879541451135, 43.630984054282486, 43.716396617459615, 43.58975411613518, 43.676636292865574, 43.72228853144864, 43.815062622168085, 43.737011586533264, 43.775302297574044, 43.91519824042984, 43.63834558182479, 43.809170708179046, 43.74290350052232, 43.79002535265866, 43.815062622168085, 43.72228853144864, 43.83567759124175, 43.65749093734519, 43.72375814500193, 43.809170708179046, 43.72965005899098, 43.762048856042696, 43.676636292865574, 43.704612789481516, 43.62951444072922, 43.82389376326364, 43.72375814500193, 43.84156950523077, 43.62951444072922, 43.78119421156308, 43.72228853144864, 43.65012940980288, 43.70314317592828]
cache_efficiency_episode=[17.80721118469463, 20.08830022075055, 21.559970566593083, 21.41280353200883, 21.559970566593083, 22.001471670345843, 22.442972774098603, 22.737306843267106, 22.737306843267106, 22.810890360559235, 22.737306843267106, 22.810890360559235, 22.810890360559235, 22.737306843267106, 22.66372332597498, 22.958057395143488, 22.88447387785136, 22.810890360559235, 22.810890360559235, 22.810890360559235, 22.737306843267106, 22.810890360559235, 22.810890360559235, 22.958057395143488, 22.737306843267106, 22.810890360559235, 22.737306843267106, 22.810890360559235, 22.958057395143488, 22.810890360559235, 22.737306843267106, 22.737306843267106, 22.737306843267106, 22.737306843267106, 22.810890360559235, 22.810890360559235, 22.66372332597498, 22.737306843267106, 22.810890360559235, 22.958057395143488, 22.810890360559235, 22.810890360559235, 22.88447387785136, 22.737306843267106, 22.810890360559235, 22.810890360559235, 22.810890360559235, 22.737306843267106, 22.958057395143488, 22.737306843267106, 22.88447387785136, 22.810890360559235, 22.810890360559235, 22.737306843267106, 22.88447387785136, 22.737306843267106, 22.88447387785136, 22.737306843267106, 22.737306843267106, 22.810890360559235, 22.810890360559235, 22.737306843267106, 22.737306843267106, 22.810890360559235, 22.88447387785136, 22.737306843267106, 22.810890360559235, 22.737306843267106, 22.737306843267106, 22.810890360559235, 22.810890360559235, 22.88447387785136, 22.737306843267106, 22.810890360559235, 22.737306843267106, 22.88447387785136, 22.810890360559235, 22.810890360559235, 22.810890360559235, 22.810890360559235, 22.810890360559235, 22.810890360559235, 22.737306843267106, 22.810890360559235, 22.88447387785136, 22.810890360559235, 22.810890360559235, 22.737306843267106, 22.737306843267106, 22.737306843267106, 22.737306843267106, 22.958057395143488, 22.958057395143488, 22.810890360559235, 22.88447387785136, 22.66372332597498, 22.810890360559235, 22.737306843267106, 22.810890360559235, 22.810890360559235, 22.88447387785136, 22.810890360559235, 22.88447387785136, 22.737306843267106, 22.737306843267106, 22.810890360559235, 22.88447387785136, 22.958057395143488, 22.737306843267106, 22.88447387785136, 22.958057395143488, 22.810890360559235, 22.810890360559235, 22.810890360559235, 22.66372332597498, 22.88447387785136, 22.810890360559235, 22.810890360559235, 22.737306843267106, 22.737306843267106, 22.737306843267106, 22.737306843267106, 22.737306843267106, 22.810890360559235, 22.88447387785136, 22.737306843267106, 22.810890360559235, 22.810890360559235, 22.737306843267106, 22.737306843267106, 22.88447387785136, 22.737306843267106, 22.810890360559235, 22.88447387785136, 22.810890360559235, 22.810890360559235, 22.958057395143488, 22.810890360559235, 22.88447387785136, 22.737306843267106, 22.737306843267106, 22.737306843267106, 22.810890360559235, 22.737306843267106, 22.810890360559235, 22.810890360559235, 22.88447387785136, 22.88447387785136, 22.737306843267106, 22.737306843267106, 22.88447387785136, 22.737306843267106, 22.88447387785136, 22.810890360559235, 22.737306843267106, 22.737306843267106, 22.810890360559235, 22.810890360559235, 22.810890360559235, 22.88447387785136, 22.737306843267106, 22.88447387785136, 22.810890360559235, 22.66372332597498, 22.737306843267106, 22.810890360559235, 22.88447387785136, 22.810890360559235, 22.737306843267106, 22.88447387785136, 22.810890360559235, 22.737306843267106, 22.810890360559235, 22.737306843267106, 22.737306843267106, 22.88447387785136, 22.737306843267106, 22.810890360559235, 22.958057395143488, 22.810890360559235, 22.810890360559235, 22.88447387785136, 22.737306843267106, 22.737306843267106, 22.810890360559235, 22.88447387785136, 22.88447387785136, 22.810890360559235, 22.810890360559235, 22.737306843267106, 22.810890360559235, 22.958057395143488, 22.737306843267106, 22.958057395143488, 22.88447387785136, 22.737306843267106, 22.737306843267106, 22.66372332597498, 22.737306843267106, 22.810890360559235, 22.810890360559235]

request_delay_episode1=[48.801364338492434, 48.170483177640115, 48.1147736035998, 48.0359940096783, 48.033803004071416, 48.094796775971794, 47.824916253401874, 47.8840412244355, 47.815088941957924, 47.8997971432198, 48.025844493494226, 48.010088574709926, 47.868285305651206, 47.89386853587942, 47.956892211016644, 47.82101754929829, 47.84457087628972, 47.868285305651206, 47.77764849704896, 47.931308980788415, 47.98247544124488, 47.98247544124488, 47.78357710438933, 47.84067217218617, 47.96282081835702, 47.994332655925604, 47.878112617095134, 47.87218400975477, 48.057356331062806, 47.86235669831084, 47.868285305651206, 47.80526163051399, 47.92148166934449, 47.91945176610768, 48.05142772372244, 47.90962445466374, 47.77374979294542, 47.82101754929829, 47.94503499633589, 47.79543431907008, 47.80916033461757, 47.90962445466374, 47.8997971432198, 47.90962445466374, 47.97264812980094, 48.03567180493814, 47.878112617095134, 47.82101754929829, 47.91945176610768, 47.966719522460586, 47.84660077952653, 47.80916033461757, 47.935207684891985, 47.94113629223235, 47.78357710438933, 47.85845799420728, 47.80526163051399, 47.92538037344804, 47.856428090970475, 47.868285305651206, 47.90962445466374, 47.88793992853908, 47.89386853587942, 47.79933302317362, 47.8840412244355, 47.8367734680826, 47.947064899572716, 47.73630934803643, 47.730380740696056, 47.66142845821849, 47.91555306200411, 47.88793992853908, 47.78357710438933, 47.91555306200411, 47.994332655925604, 47.874213912991586, 47.91555306200411, 47.92538037344804, 47.8367734680826, 47.878112617095134, 47.84660077952653, 47.90962445466374, 47.8997971432198, 47.96079091512019, 48.00415996736955, 47.97264812980094, 47.97857673714132, 48.010088574709926, 47.89386853587942, 47.88793992853908, 48.04160041227852, 47.947064899572716, 48.07311224984712, 47.91945176610768, 47.91555306200411, 47.935207684891985, 47.8525293868669, 47.79933302317362, 47.8840412244355, 47.78357710438933, 47.87218400975477, 47.92148166934449, 48.04549911638209, 47.79933302317362, 47.931308980788415, 47.86235669831084, 47.87218400975477, 47.97264812980094, 47.947064899572716, 47.935207684891985, 47.956892211016644, 47.97264812980094, 47.815088941957924, 47.8840412244355, 48.08886816863142, 48.00415996736955, 47.72648203659249, 47.988404048585245, 47.97264812980094, 47.77967840028579, 47.79933302317362, 47.89386853587942, 47.90962445466374, 47.86235669831084, 48.019915886153846, 47.8367734680826, 47.78357710438933, 48.19323099278116, 47.988404048585245, 47.90962445466374, 47.88996983177587, 47.830844860742225, 47.96282081835702, 47.8840412244355, 48.03567180493814, 47.866255402414396, 47.8997971432198, 47.75206526682073, 47.84660077952653, 47.88793992853908, 47.84660077952653, 47.90962445466374, 47.90962445466374, 47.86235669831084, 47.878112617095134, 47.931308980788415, 47.97857673714132, 47.91945176610768, 47.76782118560504, 47.935207684891985, 47.988404048585245, 47.97857673714132, 48.019915886153846, 47.8525293868669, 47.96282081835702, 47.8840412244355, 47.94113629223235, 47.92538037344804, 47.78357710438933, 48.025844493494226, 47.97857673714132, 47.87218400975477, 47.84660077952653, 47.830844860742225, 47.86235669831084, 47.92538037344804, 47.824916253401874, 47.8997971432198, 48.04160041227852, 47.8525293868669, 47.86235669831084, 47.830844860742225, 47.868285305651206, 47.8367734680826, 47.91555306200411, 48.11445139885964, 47.935207684891985, 47.8997971432198, 47.84660077952653, 47.97857673714132, 47.84660077952653, 47.76189257826467, 47.994332655925604, 47.907594551426925, 47.86235669831084, 47.988404048585245, 47.87218400975477, 47.88793992853908, 47.7895057117297, 47.86235669831084, 47.89386853587942, 47.935207684891985, 47.994332655925604, 48.04160041227852, 47.86235669831084, 47.92538037344804, 48.025844493494226, 47.68904159168353, 47.86235669831084, 47.91555306200411, 47.89386853587942]
cache_efficiency_episode1=[17.94871794871795, 20.361990950226243, 22.473604826546005, 22.473604826546005, 23.30316742081448, 23.52941176470588, 23.755656108597282, 23.604826546003014, 23.68024132730015, 23.604826546003014, 23.604826546003014, 23.604826546003014, 23.604826546003014, 23.68024132730015, 23.68024132730015, 23.604826546003014, 23.906485671191554, 23.604826546003014, 23.755656108597282, 23.604826546003014, 23.755656108597282, 23.755656108597282, 23.68024132730015, 23.755656108597282, 23.604826546003014, 23.604826546003014, 23.68024132730015, 23.755656108597282, 23.604826546003014, 23.68024132730015, 23.604826546003014, 23.604826546003014, 23.52941176470588, 23.755656108597282, 23.68024132730015, 23.68024132730015, 23.604826546003014, 23.604826546003014, 23.83107088989442, 23.52941176470588, 23.755656108597282, 23.68024132730015, 23.604826546003014, 23.68024132730015, 23.68024132730015, 23.68024132730015, 23.68024132730015, 23.604826546003014, 23.755656108597282, 23.755656108597282, 23.68024132730015, 23.755656108597282, 23.755656108597282, 23.68024132730015, 23.68024132730015, 23.52941176470588, 23.604826546003014, 23.68024132730015, 23.755656108597282, 23.604826546003014, 23.68024132730015, 23.755656108597282, 23.68024132730015, 23.68024132730015, 23.604826546003014, 23.604826546003014, 23.604826546003014, 23.68024132730015, 23.755656108597282, 23.83107088989442, 23.604826546003014, 23.755656108597282, 23.68024132730015, 23.604826546003014, 23.604826546003014, 23.52941176470588, 23.604826546003014, 23.68024132730015, 23.604826546003014, 23.68024132730015, 23.68024132730015, 23.68024132730015, 23.604826546003014, 23.83107088989442, 23.68024132730015, 23.68024132730015, 23.604826546003014, 23.604826546003014, 23.68024132730015, 23.755656108597282, 23.604826546003014, 23.604826546003014, 23.604826546003014, 23.755656108597282, 23.604826546003014, 23.755656108597282, 23.604826546003014, 23.68024132730015, 23.604826546003014, 23.68024132730015, 23.755656108597282, 23.52941176470588, 23.755656108597282, 23.68024132730015, 23.604826546003014, 23.68024132730015, 23.755656108597282, 23.68024132730015, 23.604826546003014, 23.755656108597282, 23.68024132730015, 23.68024132730015, 23.68024132730015, 23.604826546003014, 23.604826546003014, 23.68024132730015, 23.604826546003014, 23.68024132730015, 23.68024132730015, 23.52941176470588, 23.68024132730015, 23.68024132730015, 23.68024132730015, 23.68024132730015, 23.68024132730015, 23.604826546003014, 23.68024132730015, 23.68024132730015, 23.68024132730015, 23.68024132730015, 23.52941176470588, 23.68024132730015, 23.604826546003014, 23.604826546003014, 23.68024132730015, 23.83107088989442, 23.604826546003014, 23.68024132730015, 23.68024132730015, 23.755656108597282, 23.68024132730015, 23.68024132730015, 23.68024132730015, 23.68024132730015, 23.68024132730015, 23.604826546003014, 23.604826546003014, 23.755656108597282, 23.68024132730015, 23.755656108597282, 23.68024132730015, 23.604826546003014, 23.68024132730015, 23.604826546003014, 23.604826546003014, 23.604826546003014, 23.68024132730015, 23.68024132730015, 23.68024132730015, 23.604826546003014, 23.604826546003014, 23.755656108597282, 23.68024132730015, 23.68024132730015, 23.68024132730015, 23.68024132730015, 23.755656108597282, 23.604826546003014, 23.604826546003014, 23.604826546003014, 23.68024132730015, 23.68024132730015, 23.604826546003014, 23.604826546003014, 23.604826546003014, 23.68024132730015, 23.755656108597282, 23.604826546003014, 23.68024132730015, 23.604826546003014, 23.68024132730015, 23.755656108597282, 23.604826546003014, 23.906485671191554, 23.68024132730015, 23.68024132730015, 23.755656108597282, 23.755656108597282, 23.604826546003014, 23.68024132730015, 23.68024132730015, 23.755656108597282, 23.604826546003014, 23.604826546003014, 23.68024132730015, 23.68024132730015, 23.604826546003014, 23.68024132730015, 23.68024132730015, 23.604826546003014, 23.68024132730015]

request_delay_episode2=[48.82630282129755, 48.250294098641696, 48.05776330035405, 48.071880173599865, 48.149082757083555, 48.101768474405155, 48.009639461045445, 47.96067062405339, 47.75564206578029, 47.96067062405339, 48.09265070515349, 47.94074509018318, 47.97644205161286, 47.86604205869657, 47.84030786420201, 48.09265070515349, 47.89758491381551, 47.903393574439875, 47.909202235064235, 47.88181348625605, 47.96647928467776, 47.903393574439875, 48.019602227980535, 48.07107061696966, 47.96647928467776, 47.8876221468804, 47.903393574439875, 47.99386803348596, 47.78718492089922, 47.830345097266914, 47.92912776893446, 47.98225071223721, 47.95070785711828, 48.01379356735617, 48.009639461045445, 47.89758491381551, 47.8876221468804, 47.89343080750477, 47.87185071932091, 47.97644205161286, 47.97063339098849, 47.79299358152359, 48.05114508309946, 48.02956499491562, 48.035373655540006, 47.909202235064235, 47.830345097266914, 47.95070785711828, 47.97228794530212, 47.98225071223721, 48.02956499491562, 47.8876221468804, 47.861887952385835, 47.91916500199934, 47.909202235064235, 47.87765937994529, 47.80295634845871, 47.846116524826385, 48.07107061696966, 47.99802213979668, 47.79299358152359, 47.80295634845871, 47.77141349333978, 48.00383080042106, 47.94074509018318, 47.909202235064235, 47.97644205161286, 47.956516517742656, 47.956516517742656, 47.87765937994529, 47.89758491381551, 48.09265070515349, 47.85607929176147, 47.77141349333978, 47.87185071932091, 47.909202235064235, 47.89343080750477, 47.99802213979668, 47.93493642955882, 47.89758491381551, 48.00383080042106, 47.8602333980722, 47.88181348625605, 47.84030786420201, 47.81872777601818, 47.76145072640465, 47.804610902772325, 47.903393574439875, 47.78137626027486, 47.861887952385835, 47.89758491381551, 48.139964987831924, 47.830345097266914, 47.89343080750477, 47.861887952385835, 48.13000222089679, 47.75564206578029, 47.94489919649393, 47.87185071932091, 47.8876221468804, 47.98805937286159, 48.039527761850735, 47.94489919649393, 47.92912776893446, 47.89343080750477, 47.87765937994529, 47.956516517742656, 47.95070785711828, 48.02956499491562, 48.05114508309946, 47.87765937994529, 48.086842044529135, 47.99221347917234, 47.99802213979668, 47.97063339098849, 47.861887952385835, 47.79299358152359, 47.91916500199934, 47.98225071223721, 47.95070785711828, 47.93493642955882, 47.84030786420201, 48.08268793821841, 47.97228794530212, 47.88181348625605, 47.87765937994529, 47.85607929176147, 47.82453643664254, 47.98225071223721, 47.85607929176147, 48.02956499491562, 47.96647928467776, 48.035373655540006, 47.909202235064235, 48.072725171283295, 47.85607929176147, 47.95070785711828, 47.91916500199934, 47.76145072640465, 47.86604205869657, 48.05114508309946, 47.93493642955882, 47.98225071223721, 47.84030786420201, 47.99221347917234, 48.035373655540006, 48.01379356735617, 47.87765937994529, 47.89343080750477, 48.035373655540006, 47.87765937994529, 48.086842044529135, 47.94655375080757, 47.81872777601818, 48.02956499491562, 47.8876221468804, 48.019602227980535, 47.87765937994529, 47.846116524826385, 47.94489919649393, 47.8876221468804, 47.78137626027486, 47.95070785711828, 47.97228794530212, 47.861887952385835, 47.94074509018318, 47.954861963429, 47.924973662623714, 47.830345097266914, 47.87185071932091, 47.99802213979668, 47.96647928467776, 47.85607929176147, 47.87185071932091, 48.01379356735617, 48.002176246107425, 47.74567929884519, 48.00383080042106, 48.03371910122635, 47.87765937994529, 47.96067062405339, 47.92912776893446, 48.00383080042106, 47.96647928467776, 47.89343080750477, 47.8876221468804, 47.87185071932091, 48.072725171283295, 47.9075476807506, 47.924973662623714, 47.954861963429, 47.87765937994529, 47.92912776893446, 47.95070785711828, 47.99802213979668, 47.85607929176147, 47.698365016166775, 48.01379356735617, 47.924973662623714, 48.02375633429125, 47.78303081458849]
cache_efficiency_episode2=[16.691842900302113, 19.259818731117825, 21.148036253776432, 21.37462235649547, 21.6012084592145, 21.6012084592145, 21.978851963746223, 22.20543806646526, 22.20543806646526, 22.20543806646526, 22.129909365558913, 22.054380664652566, 22.20543806646526, 22.20543806646526, 22.129909365558913, 22.129909365558913, 22.20543806646526, 22.129909365558913, 22.054380664652566, 22.20543806646526, 22.129909365558913, 22.129909365558913, 22.054380664652566, 22.20543806646526, 22.129909365558913, 22.129909365558913, 22.129909365558913, 21.978851963746223, 22.20543806646526, 22.054380664652566, 22.20543806646526, 22.129909365558913, 22.129909365558913, 22.129909365558913, 21.978851963746223, 22.20543806646526, 22.129909365558913, 22.054380664652566, 22.129909365558913, 22.20543806646526, 22.280966767371602, 22.129909365558913, 22.054380664652566, 22.129909365558913, 22.054380664652566, 22.054380664652566, 22.054380664652566, 22.129909365558913, 22.054380664652566, 22.129909365558913, 22.129909365558913, 22.129909365558913, 22.054380664652566, 22.129909365558913, 22.054380664652566, 22.054380664652566, 22.20543806646526, 22.054380664652566, 22.20543806646526, 22.129909365558913, 22.129909365558913, 22.20543806646526, 22.20543806646526, 22.054380664652566, 22.054380664652566, 22.054380664652566, 22.20543806646526, 22.054380664652566, 22.054380664652566, 22.054380664652566, 22.20543806646526, 22.129909365558913, 22.129909365558913, 22.20543806646526, 22.129909365558913, 22.054380664652566, 22.054380664652566, 22.129909365558913, 22.129909365558913, 22.20543806646526, 22.054380664652566, 22.280966767371602, 22.20543806646526, 22.129909365558913, 22.20543806646526, 22.129909365558913, 21.978851963746223, 22.129909365558913, 22.280966767371602, 22.054380664652566, 22.20543806646526, 22.129909365558913, 22.054380664652566, 22.054380664652566, 22.054380664652566, 22.054380664652566, 22.20543806646526, 22.20543806646526, 22.129909365558913, 22.129909365558913, 22.054380664652566, 22.20543806646526, 22.20543806646526, 22.20543806646526, 22.054380664652566, 22.054380664652566, 22.054380664652566, 22.129909365558913, 22.129909365558913, 22.054380664652566, 22.054380664652566, 22.20543806646526, 22.20543806646526, 22.129909365558913, 22.280966767371602, 22.054380664652566, 22.129909365558913, 22.129909365558913, 22.129909365558913, 22.129909365558913, 22.129909365558913, 22.129909365558913, 22.054380664652566, 22.054380664652566, 22.20543806646526, 22.054380664652566, 22.129909365558913, 22.129909365558913, 22.129909365558913, 22.129909365558913, 22.129909365558913, 22.129909365558913, 22.054380664652566, 22.054380664652566, 21.978851963746223, 22.129909365558913, 22.129909365558913, 22.129909365558913, 22.129909365558913, 22.20543806646526, 22.054380664652566, 22.129909365558913, 22.129909365558913, 22.129909365558913, 22.20543806646526, 22.054380664652566, 22.129909365558913, 22.054380664652566, 22.054380664652566, 22.054380664652566, 22.054380664652566, 22.20543806646526, 21.978851963746223, 22.20543806646526, 22.129909365558913, 22.129909365558913, 22.054380664652566, 22.054380664652566, 22.054380664652566, 22.20543806646526, 22.129909365558913, 22.280966767371602, 22.129909365558913, 22.054380664652566, 22.054380664652566, 22.054380664652566, 22.280966767371602, 22.054380664652566, 22.054380664652566, 22.129909365558913, 22.129909365558913, 22.129909365558913, 22.129909365558913, 22.129909365558913, 22.129909365558913, 22.280966767371602, 22.129909365558913, 22.054380664652566, 22.280966767371602, 22.054380664652566, 22.20543806646526, 22.20543806646526, 22.054380664652566, 22.129909365558913, 22.054380664652566, 22.129909365558913, 22.129909365558913, 21.978851963746223, 22.280966767371602, 22.054380664652566, 22.280966767371602, 22.054380664652566, 22.20543806646526, 22.129909365558913, 22.129909365558913, 22.129909365558913, 22.129909365558913, 22.129909365558913, 22.054380664652566, 22.20543806646526, 22.054380664652566]

request_delay_episode3=[45.5923825212383, 45.11653234981643, 44.6835785221766, 44.83076702255888, 44.59539274746369, 44.629199947051895, 44.657106874073165, 44.79536538715723, 44.72185071541389, 44.53064890612295, 44.78802983567247, 44.635100219618835, 44.774794011620756, 44.71595044284696, 44.682143243258764, 44.742422090950384, 44.774794011620756, 44.77032901797165, 44.88801615551923, 44.73795709730129, 44.83363758039454, 44.72185071541389, 44.69537906731046, 44.7556579150021, 44.827737307827604, 44.74832236351732, 44.68947879474353, 44.70861489136218, 44.7688937390538, 44.70861489136218, 44.51151280950431, 44.63653549853667, 44.7556579150021, 44.767458460135984, 44.69681434622831, 44.63653549853667, 44.767458460135984, 44.742422090950384, 44.73652181838345, 44.74832236351732, 44.821837035260664, 44.78212956310553, 44.7688937390538, 44.8145014837759, 44.72185071541389, 44.7806942841877, 44.730621545816504, 44.63653549853667, 44.69824962514613, 44.74832236351732, 44.643871050021446, 44.761558187569044, 44.83507285931239, 44.78212956310553, 44.761558187569044, 44.68947879474353, 44.767458460135984, 44.67624297069181, 44.767458460135984, 44.63653549853667, 44.742422090950384, 44.735086539465605, 44.7688937390538, 44.848308683364095, 44.655671595155326, 44.72918626689866, 44.73652181838345, 44.61006385043323, 44.78802983567247, 44.821837035260664, 44.774794011620756, 44.76299346648687, 44.72918626689866, 44.57769192976287, 44.89391642808618, 44.8145014837759, 44.67624297069181, 44.757093193919935, 44.827737307827604, 44.8145014837759, 44.69537906731046, 44.79536538715723, 44.761558187569044, 44.69537906731046, 44.79393010823941, 44.821837035260664, 44.7688937390538, 44.702714618795234, 44.848308683364095, 44.75422263608427, 44.67624297069181, 44.95275999685997, 44.735086539465605, 44.7556579150021, 44.810036490126784, 44.7688937390538, 44.82917258674544, 44.79536538715723, 44.907152252137905, 44.8615445074158, 44.87478033146752, 44.7556579150021, 44.64243577110361, 44.66890741920704, 44.702714618795234, 44.742422090950384, 44.74832236351732, 44.72918626689866, 44.80860121120896, 44.7894651145903, 44.72328599433175, 44.821837035260664, 44.629199947051895, 44.670342698124884, 44.72918626689866, 44.54978500274161, 44.7806942841877, 44.649771322588386, 44.87478033146752, 44.735086539465605, 44.78212956310553, 44.629199947051895, 44.7894651145903, 44.840973131879316, 44.649771322588386, 44.821837035260664, 44.70861489136218, 44.767458460135984, 44.68947879474353, 44.79536538715723, 44.657106874073165, 44.7688937390538, 44.80270093864202, 44.899816700653105, 44.702714618795234, 44.742422090950384, 44.74098681203254, 44.76299346648687, 44.827737307827604, 44.72918626689866, 44.840973131879316, 44.73652181838345, 44.88801615551923, 44.735086539465605, 44.821837035260664, 44.63063522596974, 44.61006385043323, 44.774794011620756, 44.730621545816504, 44.71595044284696, 44.76299346648687, 44.63063522596974, 44.73652181838345, 44.80270093864202, 44.74832236351732, 44.78802983567247, 44.74832236351732, 44.66157186772226, 44.8145014837759, 44.68804351582569, 44.67624297069181, 44.70861489136218, 44.682143243258764, 44.629199947051895, 44.643871050021446, 44.81593676269373, 44.7556579150021, 44.774794011620756, 44.78212956310553, 44.71005017028002, 44.670342698124884, 44.730621545816504, 44.74098681203254, 44.735086539465605, 44.67624297069181, 44.7806942841877, 44.7688937390538, 44.71595044284696, 44.702714618795234, 44.624734953402786, 44.860109228497976, 44.72328599433175, 44.61739940191801, 44.63653549853667, 44.655671595155326, 44.742422090950384, 44.7806942841877, 44.69681434622831, 44.774794011620756, 44.67624297069181, 44.70861489136218, 44.68947879474353, 44.735086539465605, 44.6835785221766, 44.72918626689866, 44.80860121120896, 44.79536538715723, 44.66300714664008, 44.70414989771309, 44.74975764243517, 44.7894651145903]
cache_efficiency_episode3=[16.52236652236652, 19.913419913419915, 22.294372294372295, 21.78932178932179, 22.07792207792208, 22.150072150072152, 22.294372294372295, 22.22222222222222, 22.150072150072152, 22.22222222222222, 22.150072150072152, 22.07792207792208, 22.150072150072152, 22.22222222222222, 22.150072150072152, 22.22222222222222, 22.150072150072152, 22.366522366522368, 22.22222222222222, 22.438672438672437, 22.07792207792208, 22.150072150072152, 22.150072150072152, 22.22222222222222, 22.150072150072152, 22.150072150072152, 22.22222222222222, 22.150072150072152, 22.22222222222222, 22.150072150072152, 22.294372294372295, 22.22222222222222, 22.22222222222222, 22.07792207792208, 22.294372294372295, 22.22222222222222, 22.07792207792208, 22.22222222222222, 22.294372294372295, 22.150072150072152, 22.22222222222222, 22.22222222222222, 22.22222222222222, 22.150072150072152, 22.150072150072152, 22.07792207792208, 22.366522366522368, 22.22222222222222, 22.438672438672437, 22.150072150072152, 22.294372294372295, 22.150072150072152, 22.22222222222222, 22.22222222222222, 22.150072150072152, 22.22222222222222, 22.07792207792208, 22.22222222222222, 22.07792207792208, 22.22222222222222, 22.22222222222222, 22.150072150072152, 22.22222222222222, 22.22222222222222, 22.150072150072152, 22.22222222222222, 22.294372294372295, 22.22222222222222, 22.150072150072152, 22.22222222222222, 22.150072150072152, 22.294372294372295, 22.22222222222222, 22.294372294372295, 22.150072150072152, 22.150072150072152, 22.22222222222222, 22.366522366522368, 22.150072150072152, 22.150072150072152, 22.150072150072152, 22.22222222222222, 22.150072150072152, 22.150072150072152, 22.07792207792208, 22.22222222222222, 22.22222222222222, 22.22222222222222, 22.22222222222222, 22.07792207792208, 22.22222222222222, 22.07792207792208, 22.150072150072152, 22.22222222222222, 22.366522366522368, 22.22222222222222, 22.294372294372295, 22.22222222222222, 22.150072150072152, 22.22222222222222, 22.22222222222222, 22.22222222222222, 22.150072150072152, 22.150072150072152, 22.22222222222222, 22.22222222222222, 22.150072150072152, 22.22222222222222, 22.22222222222222, 22.294372294372295, 22.294372294372295, 22.22222222222222, 22.150072150072152, 22.294372294372295, 22.22222222222222, 22.150072150072152, 22.07792207792208, 22.22222222222222, 22.22222222222222, 22.150072150072152, 22.22222222222222, 22.150072150072152, 22.294372294372295, 22.150072150072152, 22.22222222222222, 22.22222222222222, 22.150072150072152, 22.07792207792208, 22.22222222222222, 22.22222222222222, 22.294372294372295, 22.22222222222222, 22.294372294372295, 22.07792207792208, 22.22222222222222, 22.22222222222222, 22.07792207792208, 22.294372294372295, 22.150072150072152, 22.22222222222222, 22.150072150072152, 22.294372294372295, 22.22222222222222, 22.150072150072152, 22.22222222222222, 22.294372294372295, 22.22222222222222, 22.150072150072152, 22.366522366522368, 22.22222222222222, 22.294372294372295, 22.294372294372295, 22.294372294372295, 22.294372294372295, 22.150072150072152, 22.150072150072152, 22.150072150072152, 22.07792207792208, 22.150072150072152, 22.07792207792208, 22.22222222222222, 22.150072150072152, 22.150072150072152, 22.150072150072152, 22.294372294372295, 22.294372294372295, 22.22222222222222, 22.150072150072152, 22.22222222222222, 22.294372294372295, 22.294372294372295, 22.366522366522368, 22.07792207792208, 22.150072150072152, 22.22222222222222, 22.07792207792208, 22.22222222222222, 22.22222222222222, 22.22222222222222, 22.366522366522368, 22.07792207792208, 22.294372294372295, 22.294372294372295, 22.22222222222222, 22.150072150072152, 22.22222222222222, 22.07792207792208, 22.294372294372295, 22.150072150072152, 22.22222222222222, 22.150072150072152, 22.22222222222222, 22.150072150072152, 22.294372294372295, 22.22222222222222, 22.22222222222222, 22.22222222222222, 22.22222222222222, 22.366522366522368, 22.294372294372295, 22.294372294372295]

request_delay_episode4=[45.92198220023843, 45.08755549893298, 44.76470430510074, 44.62322512729814, 44.59225430416886, 44.66758705787664, 44.88676165041909, 44.58070531352386, 44.566793661846795, 44.51350971617063, 44.65262623294118, 44.66994971890868, 44.60852861687796, 44.77546843700265, 44.64107724229619, 44.60852861687796, 44.64448907658663, 44.658400728263686, 44.630577424909575, 44.65026357190914, 44.61666577323251, 44.691998526940296, 44.4636376047849, 44.67808687526324, 44.60275412155547, 44.60852861687796, 44.69436118797237, 44.636351920232066, 44.691998526940296, 44.658400728263686, 44.62480292958706, 44.614303112200474, 44.49146090813901, 44.60275412155547, 44.719821830294414, 44.555244671201805, 44.74764513364855, 44.50537255981606, 44.56915632287884, 44.67231237994074, 44.61666577323251, 44.547107514847234, 44.60275412155547, 44.51350971617063, 44.61666577323251, 44.636351920232066, 44.56915632287884, 44.60852861687796, 44.57493081820136, 44.566793661846795, 44.60275412155547, 44.457863109462394, 44.46941210010739, 44.58647980884634, 44.58647980884634, 44.64448907658663, 44.65603806723163, 44.533195863170185, 44.719821830294414, 44.62244026855502, 44.65026357190914, 44.70591017861736, 44.73373348197148, 44.61089127791002, 44.51928421149311, 44.7082728396494, 44.59461696520091, 44.67808687526324, 44.57493081820136, 44.547107514847234, 44.588842469878394, 44.7500077946806, 44.636351920232066, 44.62244026855502, 44.73373348197148, 44.76155678532559, 44.630577424909575, 44.511147055138565, 44.561019166524304, 44.64448907658663, 44.614303112200474, 44.636351920232066, 44.72795898664898, 44.691998526940296, 44.76969394168015, 44.74764513364855, 44.555244671201805, 44.66994971890868, 44.555244671201805, 44.70013568329487, 44.547107514847234, 44.6862240316178, 44.67231237994074, 44.680449536295306, 44.59697962623297, 44.630577424909575, 44.58070531352386, 44.77546843700265, 44.638714581264146, 44.62480292958706, 44.51928421149311, 44.58070531352386, 44.691998526940296, 44.55288201016975, 44.62480292958706, 44.73373348197148, 44.65026357190914, 44.46941210010739, 44.66417522358619, 44.62244026855502, 44.53897035849267, 44.71168467393985, 44.457863109462394, 44.58070531352386, 44.636351920232066, 44.60275412155547, 44.630577424909575, 44.59461696520091, 44.547107514847234, 44.741870638326034, 44.44395145778533, 44.59461696520091, 44.680449536295306, 44.566793661846795, 44.741870638326034, 44.638714581264146, 44.71404733497192, 44.76155678532559, 44.588842469878394, 44.76969394168015, 44.614303112200474, 44.59697962623297, 44.58070531352386, 44.62480292958706, 44.555244671201805, 44.60275412155547, 44.73373348197148, 44.78124293232514, 44.691998526940296, 44.52505870681561, 44.533195863170185, 44.65262623294118, 44.630577424909575, 44.566793661846795, 44.67808687526324, 44.719821830294414, 44.691998526940296, 44.588842469878394, 44.66417522358619, 44.60275412155547, 44.66994971890868, 44.52742136784768, 44.636351920232066, 44.61666577323251, 44.65026357190914, 44.62480292958706, 44.70591017861736, 44.636351920232066, 44.66417522358619, 44.57493081820136, 44.67808687526324, 44.7893800886797, 44.636351920232066, 44.75341962897103, 44.51692155046106, 44.58647980884634, 44.75341962897103, 44.566793661846795, 44.76155678532559, 44.65026357190914, 44.499598064493554, 44.55288201016975, 44.62480292958706, 44.65026357190914, 44.51350971617063, 44.588842469878394, 44.547107514847234, 44.636351920232066, 44.61666577323251, 44.51692155046106, 44.44972595310782, 44.67808687526324, 44.691998526940296, 44.70591017861736, 44.58306797455591, 44.62244026855502, 44.49723540346152, 44.566793661846795, 44.67231237994074, 44.477549256461955, 44.49146090813901, 44.636351920232066, 44.600391460523404, 44.62244026855502, 44.630577424909575, 44.73373348197148, 44.658400728263686, 44.55288201016975, 44.72795898664898, 44.691998526940296, 44.58070531352386]
cache_efficiency_episode4=[16.02658788774003, 20.82717872968981, 22.821270310192023, 22.673559822747418, 23.78138847858198, 23.707533234859675, 23.929098966026586, 23.929098966026586, 23.929098966026586, 24.076809453471196, 24.076809453471196, 23.855243722304284, 23.929098966026586, 23.929098966026586, 24.224519940915805, 23.929098966026586, 24.002954209748893, 24.002954209748893, 24.002954209748893, 23.929098966026586, 24.002954209748893, 23.929098966026586, 24.002954209748893, 23.929098966026586, 24.002954209748893, 23.929098966026586, 24.076809453471196, 23.929098966026586, 23.929098966026586, 24.002954209748893, 24.076809453471196, 23.855243722304284, 24.002954209748893, 24.002954209748893, 23.929098966026586, 24.076809453471196, 23.929098966026586, 24.002954209748893, 24.076809453471196, 24.002954209748893, 24.002954209748893, 24.002954209748893, 24.002954209748893, 24.076809453471196, 24.002954209748893, 23.929098966026586, 24.076809453471196, 23.929098966026586, 24.002954209748893, 23.929098966026586, 24.002954209748893, 24.076809453471196, 23.929098966026586, 23.855243722304284, 23.855243722304284, 24.002954209748893, 23.855243722304284, 24.002954209748893, 23.929098966026586, 23.929098966026586, 23.929098966026586, 23.929098966026586, 23.929098966026586, 24.076809453471196, 24.002954209748893, 24.076809453471196, 23.929098966026586, 23.929098966026586, 24.002954209748893, 24.002954209748893, 24.002954209748893, 24.076809453471196, 23.929098966026586, 23.929098966026586, 23.929098966026586, 23.929098966026586, 24.002954209748893, 23.929098966026586, 24.002954209748893, 24.002954209748893, 23.855243722304284, 23.929098966026586, 24.002954209748893, 23.929098966026586, 24.002954209748893, 23.929098966026586, 24.076809453471196, 23.855243722304284, 24.076809453471196, 24.002954209748893, 24.002954209748893, 24.002954209748893, 24.002954209748893, 24.076809453471196, 24.076809453471196, 24.002954209748893, 23.929098966026586, 23.929098966026586, 24.076809453471196, 24.076809453471196, 24.002954209748893, 23.929098966026586, 23.929098966026586, 23.929098966026586, 24.076809453471196, 23.929098966026586, 23.929098966026586, 23.929098966026586, 23.929098966026586, 23.929098966026586, 23.929098966026586, 23.855243722304284, 24.076809453471196, 23.929098966026586, 23.929098966026586, 24.002954209748893, 24.002954209748893, 23.929098966026586, 24.002954209748893, 24.002954209748893, 24.076809453471196, 23.929098966026586, 24.076809453471196, 23.929098966026586, 24.002954209748893, 24.076809453471196, 24.002954209748893, 23.929098966026586, 24.002954209748893, 24.002954209748893, 23.855243722304284, 24.076809453471196, 23.929098966026586, 24.076809453471196, 24.076809453471196, 24.002954209748893, 23.929098966026586, 23.855243722304284, 23.929098966026586, 23.929098966026586, 24.002954209748893, 24.076809453471196, 24.002954209748893, 23.929098966026586, 23.929098966026586, 23.929098966026586, 23.929098966026586, 24.002954209748893, 23.929098966026586, 24.002954209748893, 23.855243722304284, 24.076809453471196, 23.929098966026586, 24.002954209748893, 23.929098966026586, 24.076809453471196, 23.929098966026586, 23.929098966026586, 23.929098966026586, 24.002954209748893, 23.929098966026586, 23.929098966026586, 23.929098966026586, 23.855243722304284, 23.855243722304284, 23.855243722304284, 23.855243722304284, 23.929098966026586, 23.929098966026586, 23.929098966026586, 24.076809453471196, 23.929098966026586, 24.076809453471196, 23.929098966026586, 24.076809453471196, 24.002954209748893, 24.002954209748893, 23.929098966026586, 24.002954209748893, 23.855243722304284, 24.002954209748893, 23.929098966026586, 23.929098966026586, 23.929098966026586, 24.076809453471196, 23.929098966026586, 23.929098966026586, 23.929098966026586, 24.002954209748893, 24.002954209748893, 24.002954209748893, 23.929098966026586, 23.855243722304284, 23.929098966026586, 24.002954209748893, 23.929098966026586, 24.002954209748893, 23.929098966026586, 24.002954209748893, 23.929098966026586, 23.929098966026586]

request_delay_episode_avg=[]
for i in range(100):
    request_delay_episode_avg.append((request_delay_episode[i]+request_delay_episode1[i]+request_delay_episode2[i]
                                     +request_delay_episode3[i]+request_delay_episode4[i])*0.2)
cache_efficiency_episode_avg=[]
for i in range(100):
    cache_efficiency_episode_avg.append((cache_efficiency_episode[i]+cache_efficiency_episode1[i]+
                            cache_efficiency_episode2[i]+cache_efficiency_episode3[i]+cache_efficiency_episode4[i])*0.2)

print(request_delay_episode_avg)
fig,ax1=plt.subplots()
ax2=ax1.twinx()
plt.gcf().set_facecolor('white')
ax1.xaxis.set_minor_locator(plt.MultipleLocator(2))
ax1.grid(ls='--')
ax1.plot(range(100),cache_efficiency_episode_avg, color='blue', linewidth=2, linestyle='-')
ax1.set_xlabel('Episodes',fontsize=15)
ax1.set_ylabel('Cache hit radio',color='blue',fontsize=15)
"-------------------------------------------"
"坐标轴范围"
ax1.set_xlim(0, 100)
ax1.set_ylim(0, 25)
"-------------------------------------------"
ax2.plot(range(100), request_delay_episode_avg, color='green', linewidth=1.5, linestyle='-')
ax2.set_ylabel('Content transmission delay (ms)', color='green',fontsize=15)
y1_major_locator = MultipleLocator(2)

"-------------------------------------------"
"坐标轴范围"
ax2.set_ylim()
ax2.set_ylim(45.5,47)
"-------------------------------------------"
ax1.yaxis.set_major_locator(y1_major_locator)
plt.show()




#ACFR VS ACFR without DRL
request_delay_list=[53.36903996921695, 49.71548809613944, 44.32792350522799, 40.88795146655884, 37.228582001979426]
request_delay_without_list=[54.96562953588125, 51.98264528080275, 47.39337547322345, 43.570221938554845, 39.94278426530873]
MCAF=[13.76757957068838, 23.019985196150998, 36.34344929681717, 46.1139896373057, 57.809030347890456]
MCAF_without_RL=[12.21317542561066, 19.022945965951145, 30.6439674315322, 30.866025166543302, 40.19245003700963]

request_delay_list1=[53.126782906190755, 49.31363196060046, 44.40509235016296, 40.401056584168394, 37.070197188718886]
request_delay_without_list1= [55.06949443776749, 51.93629252822907, 47.0439421805547, 42.861824524165606, 40.25948195305737]
MCAF1= [15.739385065885797, 25.47584187408492, 40.26354319180088, 51.3909224011713, 59.73645680819912]
MCAF_without_RL1= [14.714494875549047, 22.547584187408493, 29.86822840409956, 33.08931185944363, 40.043923865300144]

request_delay_list2= [60.94984918858814, 56.47588995456963, 50.47660361609743, 46.0257334709594, 41.59680622574549]
request_delay_without_list2= [62.72569996178662, 59.45473641283805, 54.3911133849758, 49.21462679487498, 44.99574641530816]
MCAF2= [12.862453531598513, 21.71003717472119, 35.985130111524164, 48.10408921933085, 58.289962825278806]
MCAF_without_RL2= [11.821561338289962, 20.892193308550187, 31.449814126394056, 33.15985130111524, 40.29739776951673]

request_delay_list3= [47.69735657279161, 44.45176007517455, 39.7956662340898, 36.18458650375431, 33.097640837882736]
request_delay_without_list3= [49.173450708993855, 46.30046049818515, 42.00264193287765, 38.520541301821964, 35.26162350357732]
MCAF3= [14.25322213798332, 23.654283548142534, 37.60424564063685, 50.265352539802876, 58.90826383623957]
MCAF_without_RL3= [13.115996967399546, 18.498862774829416, 29.18877937831691, 33.131159969673995, 38.96891584533738]

request_delay_list4= [59.71996410970397, 55.81795700670052, 50.53687974904576, 45.94914836865549, 41.89889378909014]
request_delay_without_list4= [61.28966131852642, 58.37107897285751, 53.73301021038302, 49.03180674260802, 46.116273036890206]
MCAF4= [14.529280948851001, 22.831727205337288, 35.95255744996294, 47.220163083765755, 55.96738324684952]
MCAF_without_RL4= [12.750185322461082, 19.570051890289104, 28.020756115641216, 35.73017049666419, 38.47294292068199]

request_delay_list_avg=[]
for i in range(len(request_delay_list)):
    request_delay_list_avg.append((request_delay_list[i]+request_delay_list1[i]
                                  +request_delay_list2[i]+request_delay_list3[i]+request_delay_list4[i])*0.2)
request_delay_without_list_avg=[]
for i in range(len(request_delay_without_list)):
    request_delay_without_list_avg.append((request_delay_without_list[i]+request_delay_without_list1[i]
                                  +request_delay_without_list2[i]+request_delay_without_list3[i]+request_delay_without_list4[i])*0.2)
MCAF_avg=[]
for i in range(len(MCAF1)):
    MCAF_avg.append((MCAF1[i]+MCAF2[i]+MCAF3[i]+MCAF4[i]+MCAF[i])*0.2)
MCAF_without_RL_AVG=[]
for i in range(len(MCAF_without_RL)):
    MCAF_without_RL_AVG.append((MCAF_without_RL[i]+MCAF_without_RL1[i]+MCAF_without_RL2[i]+MCAF_without_RL3[i]+MCAF_without_RL4[i])*0.2)

print('request_delay_list_avg',request_delay_list_avg)
print('request_delay_without_list_avg',request_delay_without_list_avg)
print('MCAF_avg',MCAF_avg)
print('MCAF_without_RL_AVG',MCAF_without_RL_AVG)

# plt request delay
# 设置坐标轴范围、名称
plt.xlabel('Cache capacity',fontsize=15)
plt.ylabel('Content transmission delay (ms)',fontsize=15)
# FPCC
name_list=['50','100', '200', '300', '400']
total_width,n=0.8,2
width=total_width/n
ax=plt.gca()
ax.yaxis.set_minor_locator(plt.MultipleLocator(5))
ax.grid(which="both",linestyle='--',zorder=0)
plt.ylim(30,60)
plt.bar(np.arange(len(request_delay_list_avg)),request_delay_list_avg, width=width, label='CAFR',color='c',zorder=10)
plt.bar(np.arange(len(request_delay_without_list_avg))+width,request_delay_without_list_avg, width=width, label='CAFR without DRL',color='dodgerblue',zorder=10)
plt.xticks(np.arange(len(request_delay_without_list_avg))+width/2,name_list)
plt.legend(prop={'family' : 'Times New Roman', 'size' : 10})
plt.show()

# plt request delay

# 设置坐标轴范围、名称
plt.xlabel('Cache capacity',fontsize=15)
plt.ylabel('Cache hit radio',fontsize=15)
# FPCC
name_list=['50','100', '200', '300', '400']
total_width,n=0.8,2
width=total_width/n
ax=plt.gca()
plt.ylim(0,60)
ax.yaxis.set_minor_locator(plt.MultipleLocator(5))
ax.grid(which="both",linestyle='--',zorder=0)
plt.bar(np.arange(len(MCAF_avg)),MCAF_avg, width=width, label='CAFR',color='pink',zorder=10)
plt.bar(np.arange(len(MCAF_without_RL_AVG))+width,MCAF_without_RL_AVG, width=width, label='CAFR without DRL',color='hotpink',zorder=10)
plt.xticks(np.arange(len(MCAF_without_RL_AVG))+width/2,name_list)
plt.legend(prop={'family' : 'Times New Roman', 'size' : 10})
plt.show()

